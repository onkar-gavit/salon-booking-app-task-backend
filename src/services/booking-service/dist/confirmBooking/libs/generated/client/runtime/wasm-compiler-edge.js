"use strict";var lu=Object.create,Kr=Object.defineProperty,cu=Object.getOwnPropertyDescriptor,uu=Object.getOwnPropertyNames,pu=Object.getPrototypeOf,mu=Object.prototype.hasOwnProperty,ye=(e,t)=>()=>(e&&(t=e(e=0)),t),se=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pt=(e,t)=>{for(var r in t)Kr(e,r,{get:t[r],enumerable:!0})},Vo=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of uu(t))!mu.call(e,i)&&i!==r&&Kr(e,i,{get:()=>t[i],enumerable:!(n=cu(t,i))||n.enumerable});return e},Ae=(e,t,r)=>(r=null!=e?lu(pu(e)):{},Vo(!t&&e&&e.__esModule?r:Kr(r,"default",{value:e,enumerable:!0}),e)),qo=e=>Vo(Kr({},"__esModule",{value:!0}),e);function ci(e,t){if("utf8"===(t=t.toLowerCase())||"utf-8"===t)return new h(yu.encode(e));if("base64"===t||"base64url"===t)return e=(e=e.replace(/-/g,"+").replace(/_/g,"/")).replace(/[^A-Za-z0-9+/]/g,""),new h([...atob(e)].map(e=>e.charCodeAt(0)));if("binary"===t||"ascii"===t||"latin1"===t||"latin-1"===t)return new h([...e].map(e=>e.charCodeAt(0)));if("ucs2"===t||"ucs-2"===t||"utf16le"===t||"utf-16le"===t){let t=new h(2*e.length),r=new DataView(t.buffer);for(let t=0;t<e.length;t++)r.setUint16(2*t,e.charCodeAt(t),!0);return t}if("hex"===t){let t=new h(e.length/2);for(let r=0,n=0;n<e.length;n+=2,r++)t[r]=parseInt(e.slice(n,n+2),16);return t}jo(`encoding "${t}"`)}function du(e){let t=Object.getOwnPropertyNames(DataView.prototype).filter(e=>e.startsWith("get")||e.startsWith("set")),r=t.map(e=>e.replace("get","read").replace("set","write")),n=(e,r)=>function(n=0){return Y(n,"offset"),de(n,"offset"),ee(n,"offset",this.length-1),new DataView(this.buffer)[t[e]](n,r)},i=(e,r)=>function(n,i=0){let a=t[e].match(/set(\w+\d+)/)[1].toLowerCase(),o=gu[a];return Y(i,"offset"),de(i,"offset"),ee(i,"offset",this.length-1),fu(n,"value",o[0],o[1]),new DataView(this.buffer)[t[e]](i,n,r),i+parseInt(t[e].match(/\d+/)[0])/8};r.forEach((t,r)=>{t.startsWith("read")&&(e[t]=n(r,!1),e[t+"LE"]=n(r,!0),e[t+"BE"]=n(r,!1)),t.startsWith("write")&&(e[t]=i(r,!1),e[t+"LE"]=i(r,!0),e[t+"BE"]=i(r,!1)),(t=>{t.forEach(t=>{t.includes("Uint")&&(e[t.replace("Uint","UInt")]=e[t]),t.includes("Float64")&&(e[t.replace("Float64","Double")]=e[t]),t.includes("Float32")&&(e[t.replace("Float32","Float")]=e[t])})})([t,t+"LE",t+"BE"])})}function jo(e){throw new Error(`Buffer polyfill does not implement "${e}"`)}function zr(e,t){if(!(e instanceof Uint8Array))throw new TypeError(`The "${t}" argument must be an instance of Buffer or Uint8Array`)}function ee(e,t,r=bu+1){if(e<0||e>r){let n=new RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= ${r}. Received ${e}`);throw n.code="ERR_OUT_OF_RANGE",n}}function Y(e,t){if("number"!=typeof e){let r=new TypeError(`The "${t}" argument must be of type number. Received type ${typeof e}.`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function de(e,t){if(!Number.isInteger(e)||Number.isNaN(e)){let r=new RangeError(`The value of "${t}" is out of range. It must be an integer. Received ${e}`);throw r.code="ERR_OUT_OF_RANGE",r}}function fu(e,t,r,n){if(e<r||e>n){let i=new RangeError(`The value of "${t}" is out of range. It must be >= ${r} and <= ${n}. Received ${e}`);throw i.code="ERR_OUT_OF_RANGE",i}}function Bo(e,t){if("string"!=typeof e){let r=new TypeError(`The "${t}" argument must be of type string. Received type ${typeof e}`);throw r.code="ERR_INVALID_ARG_TYPE",r}}function Eu(e,t="utf8"){return h.from(e,t)}var h,gu,yu,hu,wu,bu,y,ui,g,x,w,b,c=ye(()=>{h=class e extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(t,r=0,n="utf8"){return Bo(n,"encoding"),e.allocUnsafe(t).fill(r,n)}static allocUnsafe(t){return e.from(t)}static allocUnsafeSlow(t){return e.from(t)}static isBuffer(e){return e&&!!e._isBuffer}static byteLength(e,t="utf8"){if("string"==typeof e)return ci(e,t).byteLength;if(e&&e.byteLength)return e.byteLength;let r=new TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw r.code="ERR_INVALID_ARG_TYPE",r}static isEncoding(e){return wu.includes(e)}static compare(e,t){zr(e,"buff1"),zr(t,"buff2");for(let r=0;r<e.length;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.length===t.length?0:e.length>t.length?1:-1}static from(t,r="utf8"){if(t&&"object"==typeof t&&"Buffer"===t.type)return new e(t.data);if("number"==typeof t)return new e(new Uint8Array(t));if("string"==typeof t)return ci(t,r);if(ArrayBuffer.isView(t)){let{byteOffset:r,byteLength:n,buffer:i}=t;return"map"in t&&"function"==typeof t.map?new e(t.map(e=>e%256),r,n):new e(i,r,n)}if(t&&"object"==typeof t&&("length"in t||"byteLength"in t||"buffer"in t))return new e(t);throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(t,r){if(0===t.length)return e.alloc(0);let n=[].concat(...t.map(e=>[...e])),i=e.alloc(void 0!==r?r:n.length);return i.set(void 0!==r?n.slice(0,r):n),i}slice(e=0,t=this.length){return this.subarray(e,t)}subarray(t=0,r=this.length){return Object.setPrototypeOf(super.subarray(t,r),e.prototype)}reverse(){return super.reverse(),this}readIntBE(e,t){Y(e,"offset"),de(e,"offset"),ee(e,"offset",this.length-1),Y(t,"byteLength"),de(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n=256*n+r.getUint8(e);return 128&r.getUint8(0)&&(n-=Math.pow(256,t)),n}readIntLE(e,t){Y(e,"offset"),de(e,"offset"),ee(e,"offset",this.length-1),Y(t,"byteLength"),de(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n+=r.getUint8(e)*Math.pow(256,e);return 128&r.getUint8(t-1)&&(n-=Math.pow(256,t)),n}readUIntBE(e,t){Y(e,"offset"),de(e,"offset"),ee(e,"offset",this.length-1),Y(t,"byteLength"),de(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n=256*n+r.getUint8(e);return n}readUintBE(e,t){return this.readUIntBE(e,t)}readUIntLE(e,t){Y(e,"offset"),de(e,"offset"),ee(e,"offset",this.length-1),Y(t,"byteLength"),de(t,"byteLength");let r=new DataView(this.buffer,e,t),n=0;for(let e=0;e<t;e++)n+=r.getUint8(e)*Math.pow(256,e);return n}readUintLE(e,t){return this.readUIntLE(e,t)}writeIntBE(e,t,r){return e=e<0?e+Math.pow(256,r):e,this.writeUIntBE(e,t,r)}writeIntLE(e,t,r){return e=e<0?e+Math.pow(256,r):e,this.writeUIntLE(e,t,r)}writeUIntBE(e,t,r){Y(t,"offset"),de(t,"offset"),ee(t,"offset",this.length-1),Y(r,"byteLength"),de(r,"byteLength");let n=new DataView(this.buffer,t,r);for(let t=r-1;t>=0;t--)n.setUint8(t,255&e),e/=256;return t+r}writeUintBE(e,t,r){return this.writeUIntBE(e,t,r)}writeUIntLE(e,t,r){Y(t,"offset"),de(t,"offset"),ee(t,"offset",this.length-1),Y(r,"byteLength"),de(r,"byteLength");let n=new DataView(this.buffer,t,r);for(let t=0;t<r;t++)n.setUint8(t,255&e),e/=256;return t+r}writeUintLE(e,t,r){return this.writeUIntLE(e,t,r)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=2)e.setUint16(t,e.getUint16(t,!0),!1);return this}swap32(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=4)e.setUint32(t,e.getUint32(t,!0),!1);return this}swap64(){let e=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let t=0;t<this.length;t+=8)e.setBigUint64(t,e.getBigUint64(t,!0),!1);return this}compare(t,r=0,n=t.length,i=0,a=this.length){return zr(t,"target"),Y(r,"targetStart"),Y(n,"targetEnd"),Y(i,"sourceStart"),Y(a,"sourceEnd"),ee(r,"targetStart"),ee(n,"targetEnd",t.length),ee(i,"sourceStart"),ee(a,"sourceEnd",this.length),e.compare(this.slice(i,a),t.slice(r,n))}equals(e){return zr(e,"otherBuffer"),this.length===e.length&&this.every((t,r)=>t===e[r])}copy(e,t=0,r=0,n=this.length){ee(t,"targetStart"),ee(r,"sourceStart",this.length),ee(n,"sourceEnd"),t>>>=0,r>>>=0,n>>>=0;let i=0;for(;r<n&&void 0!==this[r]&&void 0!==e[t];)e[t]=this[r],i++,r++,t++;return i}write(e,t,r,n="utf8"){let i="string"==typeof t?0:t??0,a="string"==typeof r?this.length-i:r??this.length-i;return n="string"==typeof t?t:"string"==typeof r?r:n,Y(i,"offset"),Y(a,"length"),ee(i,"offset",this.length),ee(a,"length",this.length),("ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)&&(a-=a%2),ci(e,n).copy(this,i,0,a)}fill(t=0,r=0,n=this.length,i="utf-8"){let a="string"==typeof r?0:r,o="string"==typeof n?this.length:n;if(i="string"==typeof r?r:"string"==typeof n?n:i,t=e.from("number"==typeof t?[t]:t??[],i),Bo(i,"encoding"),ee(a,"offset",this.length),ee(o,"end",this.length),0!==t.length)for(let e=a;e<o;e+=t.length)super.set(t.slice(0,t.length+e>=this.length?this.length-e:t.length),e);return this}includes(e,t=null,r="utf-8"){return-1!==this.indexOf(e,t,r)}lastIndexOf(e,t=null,r="utf-8"){return this.indexOf(e,t,r,!0)}indexOf(t,r=null,n="utf-8",i=!1){let a=i?this.findLastIndex.bind(this):this.findIndex.bind(this);n="string"==typeof r?r:n;let o=e.from("number"==typeof t?[t]:t,n),s="string"==typeof r?0:r;return s="number"==typeof r?s:null,s=Number.isNaN(s)?null:s,s??=i?this.length:0,s=s<0?this.length+s:s,0===o.length&&!1===i?s>=this.length?this.length:s:0===o.length&&!0===i?(s>=this.length?this.length:s)||this.length:a((e,t)=>(i?t<=s:t>=s)&&this[t]===o[0]&&o.every((e,r)=>this[t+r]===e))}toString(e="utf8",t=0,r=this.length){if(t=t<0?0:t,e=e.toString().toLowerCase(),r<=0)return"";if("utf8"===e||"utf-8"===e)return hu.decode(this.slice(t,r));if("base64"===e||"base64url"===e){let t=btoa(this.reduce((e,t)=>e+ui(t),""));return"base64url"===e?t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):t}if("binary"===e||"ascii"===e||"latin1"===e||"latin-1"===e)return this.slice(t,r).reduce((t,r)=>t+ui(r&("ascii"===e?127:255)),"");if("ucs2"===e||"ucs-2"===e||"utf16le"===e||"utf-16le"===e){let e=new DataView(this.buffer.slice(t,r));return Array.from({length:e.byteLength/2},(t,r)=>2*r+1<e.byteLength?ui(e.getUint16(2*r,!0)):"").join("")}if("hex"===e)return this.slice(t,r).reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"");jo(`encoding "${e}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}},gu={int8:[-128,127],int16:[-32768,32767],int32:[-2147483648,2147483647],uint8:[0,255],uint16:[0,65535],uint32:[0,4294967295],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},yu=new TextEncoder,hu=new TextDecoder,wu=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],bu=4294967295,du(h.prototype),y=new Proxy(Eu,{construct:(e,[t,r])=>h.from(t,r),get:(e,t)=>h[t]}),ui=String.fromCodePoint}),u=ye(()=>{g={nextTick:(e,...t)=>{setTimeout(()=>{e(...t)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"],pid:1e4},({cwd:x}=g)}),p=ye(()=>{w=globalThis.performance??(()=>{let e=Date.now();return{now:()=>Date.now()-e}})()}),m=ye(()=>{(b=()=>{}).prototype=b}),d=ye(()=>{});function Jo(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),W?q(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),a>(s=(o=Math.ceil(d/H))>s?o+1:s+1)&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((s=l.length)-(a=c.length)<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/te|0,l[a]%=te;for(r&&(l.unshift(r),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,W?q(t,d):t}function Ce(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ye+e)}function Re(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",(r=H-n.length)&&(a+=Ve(r)),a+=n;o=e[t],(r=H-(n=o+"").length)&&(a+=Ve(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function Wo(e,t){var r,n,i,a,o,s=0,l=0,c=e.constructor,u=c.precision;if(Z(e)>16)throw Error(mi+Z(e));if(!e.s)return new c(he);for(null==t?(W=!1,o=u):o=t,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(o+=Math.log(ze(2,l))/Math.LN10*2+5|0,r=n=i=new c(he),c.precision=o;;){if(n=q(n.times(e),o),r=r.times(++s),Re((a=i.plus(Me(n,r,o))).d).slice(0,o)===Re(i.d).slice(0,o)){for(;l--;)i=q(i.times(i),o);return c.precision=u,null==t?(W=!0,q(i,u)):i}i=a}}function Z(e){for(var t=e.e*H,r=e.d[0];r>=10;r/=10)t++;return t}function pi(e,t,r){if(t>e.LN10.sd())throw W=!0,r&&(e.precision=r),Error(be+"LN10 precision limit exceeded");return q(new e(e.LN10),t)}function Ve(e){for(var t="";e--;)t+="0";return t}function Wt(e,t){var r,n,i,a,o,s,l,c,u,d=1,h=e,p=h.d,f=h.constructor,m=f.precision;if(h.s<1)throw Error(be+(h.s?"NaN":"-Infinity"));if(h.eq(he))return new f(0);if(null==t?(W=!1,c=m):c=t,h.eq(10))return null==t&&(W=!0),pi(f,c);if(c+=10,f.precision=c,n=(r=Re(p)).charAt(0),a=Z(h),!(Math.abs(a)<15e14))return l=pi(f,c+2,m).times(a+""),h=Wt(new f(n+"."+r.slice(1)),c-10).plus(l),f.precision=m,null==t?(W=!0,q(h,m)):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Re((h=h.times(e)).d)).charAt(0),d++;for(a=Z(h),n>1?(h=new f("0."+r),a++):h=new f(n+"."+r.slice(1)),s=o=h=Me(h.minus(he),h.plus(he),c),u=q(h.times(h),c),i=3;;){if(o=q(o.times(u),c),Re((l=s.plus(Me(o,new f(i),c))).d).slice(0,c)===Re(s.d).slice(0,c))return s=s.times(2),0!==a&&(s=s.plus(pi(f,c+2,m).times(a+""))),s=Me(s,new f(d),c),f.precision=m,null==t?(W=!0,q(s,m)):s;s=l,i+=2}}function Qo(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,r=r-n-1,e.e=dt(r/H),e.d=[],n=(r+1)%H,r<0&&(n+=H),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=H;n<i;)e.d.push(+t.slice(n,n+=H));t=t.slice(n),n=H-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),W&&(e.e>Yr||e.e<-Yr))throw Error(mi+r)}else e.s=0,e.e=0,e.d=[0];return e}function q(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if((n=t-o)<0)n+=H,i=t,c=d[u=0];else{if((u=Math.ceil((n+1)/H))>=(a=d.length))return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;i=(n%=H)-H+o}if(void 0!==r&&(s=c/(a=ze(10,o-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%a,l=r<4?(s||l)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||l||6==r&&(n>0?i>0?c/ze(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Z(e),d.length=1,t=t-a-1,d[0]=ze(10,(H-t%H)%H),e.e=dt(-t/H)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==n?(d.length=u,a=1,u--):(d.length=u+1,a=ze(10,H-n),d[u]=i>0?(c/ze(10,o-i)%ze(10,i)|0)*a:0),l)for(;;){if(0==u){(d[0]+=a)==te&&(d[0]=1,++e.e);break}if(d[u]+=a,d[u]!=te)break;d[u--]=0,a=1}for(n=d.length;0===d[--n];)d.pop();if(W&&(e.e>Yr||e.e<-Yr))throw Error(mi+Z(e));return e}function Ko(e,t){var r,n,i,a,o,s,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),W?q(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n){for((u=o<0)?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),o>(i=Math.max(Math.ceil(p/H),s)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((u=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&0===l[--a];)l[a]=te-1;--l[a],l[i]+=te}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,W?q(t,p):t):new h(0)}function Ze(e,t,r){var n,i=Z(e),a=Re(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ve(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ve(-i-1)+a,r&&(n=r-o)>0&&(a+=Ve(n))):i>=o?(a+=Ve(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ve(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ve(n))),e.s<0?"-"+a:a}function Ho(e,t){if(e.length>t)return e.length=t,!0}function zo(e){var t,r,n;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Ye+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Qo(t,e.toString())}if("string"!=typeof e)throw Error(Ye+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!Pu.test(e))throw Error(Ye+e);Qo(t,e)}if(i.prototype=I,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zo,i.config=i.set=Tu,void 0===e&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Tu(e){if(!e||"object"!=typeof e)throw Error(be+"Object expected");var t,r,n,i=["precision",1,mt,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]])){if(!(dt(n)===n&&n>=i[t+1]&&n<=i[t+2]))throw Error(Ye+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(Ye+r+": "+n);this[r]=new this(n)}return this}var mt,xu,W,be,Ye,mi,dt,ze,Pu,he,te,H,Go,Yr,I,Me,di,Zr,v,ae,Yo=ye(()=>{c(),u(),p(),m(),d(),l(),mt=1e9,xu={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},W=!0,Ye=(be="[DecimalError] ")+"Invalid argument: ",mi=be+"Exponent out of range: ",dt=Math.floor,ze=Math.pow,Pu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,te=1e7,Yr=dt((Go=9007199254740991)/(H=7)),(I={}).absoluteValue=I.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},I.comparedTo=I.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,r=(n=a.d.length)<(i=e.d.length)?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1},I.decimalPlaces=I.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*H;if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},I.dividedBy=I.div=function(e){return Me(this,new this.constructor(e))},I.dividedToIntegerBy=I.idiv=function(e){var t=this.constructor;return q(Me(this,new t(e),0,1),t.precision)},I.equals=I.eq=function(e){return!this.cmp(e)},I.exponent=function(){return Z(this)},I.greaterThan=I.gt=function(e){return this.cmp(e)>0},I.greaterThanOrEqualTo=I.gte=function(e){return this.cmp(e)>=0},I.isInteger=I.isint=function(){return this.e>this.d.length-2},I.isNegative=I.isneg=function(){return this.s<0},I.isPositive=I.ispos=function(){return this.s>0},I.isZero=function(){return 0===this.s},I.lessThan=I.lt=function(e){return this.cmp(e)<0},I.lessThanOrEqualTo=I.lte=function(e){return this.cmp(e)<1},I.logarithm=I.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(he))throw Error(be+"NaN");if(r.s<1)throw Error(be+(r.s?"NaN":"-Infinity"));return r.eq(he)?new n(0):(W=!1,t=Me(Wt(r,a),Wt(e,a),a),W=!0,q(t,i))},I.minus=I.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ko(t,e):Jo(t,(e.s=-e.s,e))},I.modulo=I.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(!(e=new n(e)).s)throw Error(be+"NaN");return r.s?(W=!1,t=Me(r,e,0,1).times(e),W=!0,r.minus(t)):q(new n(r),i)},I.naturalExponential=I.exp=function(){return Wo(this)},I.naturalLogarithm=I.ln=function(){return Wt(this)},I.negated=I.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},I.plus=I.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Jo(t,e):Ko(t,(e.s=-e.s,e))},I.precision=I.sd=function(e){var t,r,n,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Ye+e);if(t=Z(i)+1,r=(n=i.d.length-1)*H+1,n=i.d[n]){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},I.squareRoot=I.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(be+"NaN")}for(e=Z(s),W=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=Re(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=dt((e+1)/2)-(e<0||e%2),n=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(i.toString()),i=o=(r=l.precision)+3;;)if(n=(a=n).plus(Me(s,a,o+2)).times(.5),Re(a.d).slice(0,o)===(t=Re(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(q(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if("9999"!=t)break;o+=4}return W=!0,q(n,r)},I.times=I.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,(l=h.length)<(c=p.length)&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],n=o=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+t,a[i--]=s%te|0,t=s/te|0;a[i]=(a[i]+t)%te|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,W?q(e,d.precision):e},I.toDecimalPlaces=I.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(Ce(e,0,mt),void 0===t?t=n.rounding:Ce(t,0,8),q(r,e+Z(r)+1,t))},I.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Ze(n,!0):(Ce(e,0,mt),void 0===t?t=i.rounding:Ce(t,0,8),r=Ze(n=q(new i(n),e+1,t),!0,e+1)),r},I.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?Ze(i):(Ce(e,0,mt),void 0===t?t=a.rounding:Ce(t,0,8),r=Ze((n=q(new a(i),e+Z(i)+1,t)).abs(),!1,e+Z(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)},I.toInteger=I.toint=function(){var e=this,t=e.constructor;return q(new t(e),Z(e)+1,t.rounding)},I.toNumber=function(){return+this},I.toPower=I.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(he);if(!(s=new l(s)).s){if(e.s<1)throw Error(be+"Infinity");return s}if(s.eq(he))return s;if(n=l.precision,e.eq(he))return q(s,n);if(o=(t=e.e)>=(r=e.d.length-1),a=s.s,o){if((r=c<0?-c:c)<=Go){for(i=new l(he),t=Math.ceil(n/H+4),W=!1;r%2&&Ho((i=i.times(s)).d,t),0!==(r=dt(r/2));)Ho((s=s.times(s)).d,t);return W=!0,e.s<0?new l(he).div(i):q(i,n)}}else if(a<0)throw Error(be+"NaN");return a=a<0&&1&e.d[Math.max(t,r)]?-1:1,s.s=1,W=!1,i=e.times(Wt(s,n+12)),W=!0,(i=Wo(i)).s=a,i},I.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?n=Ze(i,(r=Z(i))<=a.toExpNeg||r>=a.toExpPos):(Ce(e,1,mt),void 0===t?t=a.rounding:Ce(t,0,8),n=Ze(i=q(new a(i),e,t),e<=(r=Z(i))||r<=a.toExpNeg,e)),n},I.toSignificantDigits=I.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(Ce(e,1,mt),void 0===t?t=r.rounding:Ce(t,0,8)),q(new r(this),e,t)},I.toString=I.valueOf=I.val=I.toJSON=I[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Z(e),r=e.constructor;return Ze(e,t<=r.toExpNeg||t>=r.toExpPos)},Me=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%te|0,n=r/te|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*te+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,o){var s,l,c,u,d,h,p,f,m,g,y,w,b,v,E,x,$,P,A=n.constructor,I=n.s==i.s?1:-1,O=n.d,T=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(be+"Division by zero");for(l=n.e-i.e,$=T.length,E=O.length,f=(p=new A(I)).d=[],c=0;T[c]==(O[c]||0);)++c;if(T[c]>(O[c]||0)&&--l,(w=null==a?a=A.precision:o?a+(Z(n)-Z(i))+1:a)<0)return new A(0);if(w=w/H+2|0,c=0,1==$)for(u=0,T=T[0],w++;(c<E||u)&&w--;c++)b=u*te+(O[c]||0),f[c]=b/T|0,u=b%T|0;else{for((u=te/(T[0]+1)|0)>1&&(T=e(T,u),O=e(O,u),$=T.length,E=O.length),v=$,g=(m=O.slice(0,$)).length;g<$;)m[g++]=0;(P=T.slice()).unshift(0),x=T[0],T[1]>=te/2&&++x;do{u=0,(s=t(T,m,$,g))<0?(y=m[0],$!=g&&(y=y*te+(m[1]||0)),(u=y/x|0)>1?(u>=te&&(u=te-1),1==(s=t(d=e(T,u),m,h=d.length,g=m.length))&&(u--,r(d,$<h?P:T,h))):(0==u&&(s=u=1),d=T.slice()),(h=d.length)<g&&d.unshift(0),r(m,d,g),-1==s&&(s=t(T,m,$,g=m.length))<1&&(u++,r(m,$<g?P:T,g)),g=m.length):0===s&&(u++,m=[0]),f[c++]=u,s&&m[0]?m[g++]=O[v]||0:(m=[O[v]],g=1)}while((v++<E||void 0!==m[0])&&w--)}return f[0]||f.shift(),p.e=l,q(p,o?a+Z(p)+1:a)}}(),di=zo(xu),he=new di(1),Zr=di}),l=ye(()=>{Yo(),ae=v=class extends Zr{static isDecimal(e){return e instanceof Zr}static random(e=20){{let t=globalThis.crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>e+t,"");return new Zr(`0.${t.slice(0,e)}`)}}}});function Iu(){return!1}function wi(){return{dev:0,ino:0,mode:0,nlink:0,uid:0,gid:0,rdev:0,size:0,blksize:0,blocks:0,atimeMs:0,mtimeMs:0,ctimeMs:0,birthtimeMs:0,atime:new Date,mtime:new Date,ctime:new Date,birthtime:new Date}}function ku(){return wi()}function Ou(){return[]}function Du(e){e(null,[])}function _u(){return""}function Mu(){return""}function Nu(){}function Lu(){}function Uu(){}function Fu(){}function $u(){}function Vu(){}function qu(){}function Bu(){}function ju(){return{close:()=>{},on:()=>{},removeAllListeners:()=>{}}}function Qu(e,t){t(null,wi())}var Hu,Gu,fs,gs=ye(()=>{c(),u(),p(),m(),d(),l(),fs=Gu={existsSync:Iu,lstatSync:wi,stat:Qu,statSync:ku,readdirSync:Ou,readdir:Du,readlinkSync:_u,realpathSync:Mu,chmodSync:Nu,renameSync:Lu,mkdirSync:Uu,rmdirSync:Fu,rmSync:$u,unlinkSync:Vu,watchFile:qu,unwatchFile:Bu,watch:ju,promises:Hu={}}}),ys=se(()=>{c(),u(),p(),m(),d(),l()});function Ju(...e){return e.join("/")}function Wu(...e){return e.join("/")}function Ku(e){let t=hs(e),r=ws(e),[n,i]=t.split(".");return{root:"/",dir:r,base:t,ext:i,name:n}}function hs(e){let t=e.split("/");return t[t.length-1]}function ws(e){return e.split("/").slice(0,-1).join("/")}function Yu(e){let t=e.split("/").filter(e=>""!==e&&"."!==e),r=[];for(let e of t)".."===e?r.pop():r.push(e);let n=r.join("/");return e.startsWith("/")?"/"+n:n}var bs,zu,Zu,Xu,rn,Es=ye(()=>{c(),u(),p(),m(),d(),l(),rn=Xu={basename:hs,delimiter:zu=":",dirname:ws,join:Wu,normalize:Yu,parse:Ku,posix:Zu={sep:bs="/"},resolve:Ju,sep:bs}}),xs=se((e,t)=>{t.exports={name:"@prisma/internals",version:"6.15.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.5.0",empathic:"2.0.0",esbuild:"0.25.5","escape-string-regexp":"5.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-dirs":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0",resolve:"1.22.10","string-width":"7.2.0","strip-ansi":"6.0.1","strip-indent":"4.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"4.0.0",tmp:"0.2.3","ts-node":"10.9.2","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/dmmf":"workspace:*","@prisma/driver-adapter-utils":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.15.0-5.85179d7826409ee107a6ba334b5e305ae3fba9fb","@prisma/schema-engine-wasm":"6.15.0-5.85179d7826409ee107a6ba334b5e305ae3fba9fb","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),Ei={};function on(){return globalThis.crypto.randomUUID()}function sn(e,t,r){return void 0!==t&&(e=void 0!==r?e.subarray(t,t+r):e.subarray(t)),globalThis.crypto.getRandomValues(e)}function Ps(e){return new Yt(e)}pt(Ei,{Hash:()=>Yt,createHash:()=>Ps,default:()=>yt,randomFillSync:()=>sn,randomUUID:()=>on,webcrypto:()=>Zt});var Zt,Yt,yt,kn,Xe=ye(()=>{c(),u(),p(),m(),d(),l(),Zt=globalThis.crypto,yt={webcrypto:Zt,randomUUID:on,randomFillSync:sn,createHash:Ps,Hash:Yt=class{#e=[];#t;constructor(e){this.#t=e}update(e){this.#e.push(e)}async digest(){let e=new Uint8Array(this.#e.reduce((e,t)=>e+t.length,0)),t=0;for(let r of this.#e)e.set(r,t),t+=r.length;let r=await globalThis.crypto.subtle.digest(this.#t,e);return new Uint8Array(r)}}}}),xi=se((e,t)=>{t.exports={name:"@prisma/engines-version",version:"6.15.0-5.85179d7826409ee107a6ba334b5e305ae3fba9fb",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"85179d7826409ee107a6ba334b5e305ae3fba9fb"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),Ts=se(e=>{c(),u(),p(),m(),d(),l(),Object.defineProperty(e,"__esModule",{value:!0}),e.enginesVersion=void 0,e.enginesVersion=xi().prisma.enginesVersion}),Rs=se((e,t)=>{c(),u(),p(),m(),d(),l(),t.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},"string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof r.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(0===t)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}}),Is=se((e,t)=>{c(),u(),p(),m(),d(),l(),t.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}}),vi=se((e,t)=>{c(),u(),p(),m(),d(),l();var r=Is();t.exports=e=>"string"==typeof e?e.replace(r(),""):e}),Os=se((e,t)=>{c(),u(),p(),m(),d(),l(),t.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else{if(!e.user||!e.repo)throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");t=`https://github.com/${e.user}/${e.repo}`}let r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(let t of n){let n=e[t];if(void 0!==n){if("labels"===t||"projects"===t){if(!Array.isArray(n))throw new TypeError(`The \`${t}\` option should be an array`);n=n.join(",")}r.searchParams.set(t,n)}}return r.toString()},t.exports.default=t.exports}),Si=se((e,t)=>{c(),u(),p(),m(),d(),l(),t.exports=function(){function e(e,t,r,n,i){return e<t||r<t?e>r?r+1:e+1:n===i?t:t+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,a=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(a-1);)i--,a--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(a-=o,0===(i-=o)||a<3)return a;var s,l,c,u,d,h,p,f,m,g,y,w,b=0,v=[];for(s=0;s<i;s++)v.push(s+1),v.push(t.charCodeAt(o+s));for(var E=v.length-1;b<a-3;)for(m=r.charCodeAt(o+(l=b)),g=r.charCodeAt(o+(c=b+1)),y=r.charCodeAt(o+(u=b+2)),w=r.charCodeAt(o+(d=b+3)),h=b+=4,s=0;s<E;s+=2)l=e(p=v[s],l,c,m,f=v[s+1]),c=e(l,c,u,g,f),u=e(c,u,d,y,f),h=e(u,d,h,w,f),v[s]=h,d=u,u=c,c=l,l=p;for(;b<a;)for(m=r.charCodeAt(o+(l=b)),h=++b,s=0;s<E;s+=2)p=v[s],v[s]=h=e(p,l,h,m,v[s+1]),l=p;return h}}()}),qs=ye(()=>{c(),u(),p(),m(),d(),l()}),Bs=ye(()=>{c(),u(),p(),m(),d(),l()}),ma=ye(()=>{c(),u(),p(),m(),d(),l(),kn=class{events={};on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),this}emit(e,...t){return!!this.events[e]&&(this.events[e].forEach(e=>{e(...t)}),!0)}}}),Xi=se(e=>{function t(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function r(e,...t){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}c(),u(),p(),m(),d(),l(),Object.defineProperty(e,"__esModule",{value:!0}),e.anumber=t,e.abytes=r,e.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");t(e.outputLen),t(e.blockLen)},e.aexists=function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},e.aoutput=function(e,t){r(e);let n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}}),kl=se(e=>{c(),u(),p(),m(),d(),l(),Object.defineProperty(e,"__esModule",{value:!0}),e.add5L=e.add5H=e.add4H=e.add4L=e.add3H=e.add3L=e.rotlBL=e.rotlBH=e.rotlSL=e.rotlSH=e.rotr32L=e.rotr32H=e.rotrBL=e.rotrBH=e.rotrSL=e.rotrSH=e.shrSL=e.shrSH=e.toBig=void 0,e.fromBig=n,e.split=i,e.add=P;var t=BigInt(2**32-1),r=BigInt(32);function n(e,n=!1){return n?{h:Number(e&t),l:Number(e>>r&t)}:{h:0|Number(e>>r&t),l:0|Number(e&t)}}function i(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let a=0;a<e.length;a++){let{h:o,l:s}=n(e[a],t);[r[a],i[a]]=[o,s]}return[r,i]}var a=(e,t)=>BigInt(e>>>0)<<r|BigInt(t>>>0);e.toBig=a;var o=(e,t,r)=>e>>>r;e.shrSH=o;var s=(e,t,r)=>e<<32-r|t>>>r;e.shrSL=s;var h=(e,t,r)=>e>>>r|t<<32-r;e.rotrSH=h;var f=(e,t,r)=>e<<32-r|t>>>r;e.rotrSL=f;var g=(e,t,r)=>e<<64-r|t>>>r-32;e.rotrBH=g;var y=(e,t,r)=>e>>>r-32|t<<64-r;e.rotrBL=y;var w=(e,t)=>t;e.rotr32H=w;var b=(e,t)=>e;e.rotr32L=b;var v=(e,t,r)=>e<<r|t>>>32-r;e.rotlSH=v;var E=(e,t,r)=>t<<r|e>>>32-r;e.rotlSL=E;var x=(e,t,r)=>t<<r-32|e>>>64-r;e.rotlBH=x;var $=(e,t,r)=>e<<r-32|t>>>64-r;function P(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}}e.rotlBL=$;var A=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);e.add3L=A;var I=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;e.add3H=I;var O=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);e.add4L=O;var T=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;e.add4H=T;var S=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);e.add5L=S;var _=(e,t,r,n,i,a)=>t+r+n+i+a+(e/2**32|0)|0;e.add5H=_;var N={fromBig:n,split:i,toBig:a,shrSH:o,shrSL:s,rotrSH:h,rotrSL:f,rotrBH:g,rotrBL:y,rotr32H:w,rotr32L:b,rotlSH:v,rotlSL:E,rotlBH:x,rotlBL:$,add:P,add3L:A,add3H:I,add4L:O,add4H:T,add5H:_,add5L:S};e.default=N}),Ol=se(e=>{c(),u(),p(),m(),d(),l(),Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0;var t=(Xe(),qo(Ei));e.crypto=t&&"object"==typeof t&&"webcrypto"in t?t.webcrypto:t&&"object"==typeof t&&"randomBytes"in t?t:void 0}),Ml=se(e=>{c(),u(),p(),m(),d(),l(),Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.nextTick=e.byteSwapIfBE=e.isLE=void 0,e.isBytes=function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name},e.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},e.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},e.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},e.rotr=function(e,t){return e<<32-t|e>>>t},e.rotl=function(e,t){return e<<t|e>>>32-t>>>0},e.byteSwap=n,e.byteSwap32=function(e){for(let t=0;t<e.length;t++)e[t]=n(e[t])},e.bytesToHex=function(e){(0,r.abytes)(e);let t="";for(let r=0;r<e.length;r++)t+=i[e[r]];return t},e.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=o(e.charCodeAt(i)),a=o(e.charCodeAt(i+1));if(void 0===r||void 0===a){let t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+a}return n},e.asyncLoop=async function(t,r,n){let i=Date.now();for(let a=0;a<t;a++){n(a);let t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=s,e.toBytes=h,e.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){let i=e[n];(0,r.abytes)(i),t+=i.length}let n=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let i=e[t];n.set(i,r),r+=i.length}return n},e.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},e.wrapConstructor=function(e){let t=t=>e().update(h(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.wrapConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(h(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.wrapXOFConstructorWithOpts=function(e){let t=(t,r)=>e(r).update(h(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.randomBytes=function(e=32){if(t.crypto&&"function"==typeof t.crypto.getRandomValues)return t.crypto.getRandomValues(new Uint8Array(e));if(t.crypto&&"function"==typeof t.crypto.randomBytes)return t.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};var t=Ol(),r=Xi();function n(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],e.byteSwapIfBE=e.isLE?e=>e:e=>n(e);var i=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),a={_0:48,_9:57,A:65,F:70,a:97,f:102};function o(e){return e>=a._0&&e<=a._9?e-a._0:e>=a.A&&e<=a.F?e-(a.A-10):e>=a.a&&e<=a.f?e-(a.a-10):void 0}function s(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function h(e){return"string"==typeof e&&(e=s(e)),(0,r.abytes)(e),e}e.nextTick=async()=>{},e.Hash=class{clone(){return this._cloneInto()}}}),Bl=se(e=>{c(),u(),p(),m(),d(),l(),Object.defineProperty(e,"__esModule",{value:!0}),e.shake256=e.shake128=e.keccak_512=e.keccak_384=e.keccak_256=e.keccak_224=e.sha3_512=e.sha3_384=e.sha3_256=e.sha3_224=e.Keccak=void 0,e.keccakP=$;var t=Xi(),r=kl(),n=Ml(),i=[],a=[],o=[],s=BigInt(0),h=BigInt(1),f=BigInt(2),g=BigInt(7),y=BigInt(256),w=BigInt(113);for(let e=0,t=h,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],i.push(2*(5*n+r)),a.push((e+1)*(e+2)/2%64);let l=s;for(let e=0;e<7;e++)t=(t<<h^(t>>g)*w)%y,t&f&&(l^=h<<(h<<BigInt(e))-h);o.push(l)}var[b,v]=(0,r.split)(o,!0),E=(e,t,n)=>n>32?(0,r.rotlBH)(e,t,n):(0,r.rotlSH)(e,t,n),x=(e,t,n)=>n>32?(0,r.rotlBL)(e,t,n):(0,r.rotlSL)(e,t,n);function $(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],o=r[i+1],s=E(a,o,1)^r[n],l=x(a,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=l}let t=e[2],o=e[3];for(let r=0;r<24;r++){let n=a[r],s=E(t,o,n),l=x(t,o,n),c=i[r];t=e[c],o=e[c+1],e[c]=s,e[c+1]=l}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=b[n],e[1]^=v[n]}r.fill(0)}var P=class e extends n.Hash{constructor(e,r,i,a=!1,o=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=i,this.enableXOF=a,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),$(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,t.aexists)(this);let{blockLen:r,state:i}=this,a=(e=(0,n.toBytes)(e)).length;for(let t=0;t<a;){let n=Math.min(r-this.pos,a-t);for(let r=0;r<n;r++)i[this.pos++]^=e[t++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,!!(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,t.aexists)(this,!1),(0,t.abytes)(e),this.finish();let r=this.state,{blockLen:n}=this;for(let t=0,i=e.length;t<i;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,i-t);e.set(r.subarray(this.posOut,this.posOut+a),t),this.posOut+=a,t+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,t.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,t.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:o}=this;return t||(t=new e(r,n,i,o,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}};e.Keccak=P;var A=(e,t,r)=>(0,n.wrapConstructor)(()=>new P(t,e,r));e.sha3_224=A(6,144,28),e.sha3_256=A(6,136,32),e.sha3_384=A(6,104,48),e.sha3_512=A(6,72,64),e.keccak_224=A(1,144,28),e.keccak_256=A(1,136,32),e.keccak_384=A(1,104,48),e.keccak_512=A(1,72,64);var I=(e,t,r)=>(0,n.wrapXOFConstructorWithOpts)((n={})=>new P(t,e,void 0===n.dkLen?r:n.dkLen,!0));e.shake128=I(31,168,16),e.shake256=I(31,136,32)}),zl=se((e,t)=>{c(),u(),p(),m(),d(),l();var{sha3_512:r}=Bl(),n=(e=4,t=Math.random)=>{let r="";for(;r.length<e;)r+=Math.floor(36*t()).toString(36);return r};function i(e){let t=0n;for(let r of e.values())t=(t<<8n)+BigInt(r);return t}var a=(e="")=>i(r(e)).toString(36).slice(1),o=Array.from({length:26},(e,t)=>String.fromCharCode(t+97)),s=({globalObj:e=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:{}),random:t=Math.random}={})=>{let r=Object.keys(e).toString(),i=r.length?r+n(32,t):n(32,t);return a(i).substring(0,32)},h=e=>()=>e++,f=({random:e=Math.random,counter:t=h(Math.floor(476782367*e())),length:r=24,fingerprint:i=s({random:e})}={})=>function(){let s=(e=>o[Math.floor(e()*o.length)])(e),l=Date.now().toString(36),c=t().toString(36),u=n(r,e);return`${s+a(`${l+u+c+i}`).substring(1,r)}`},g=f();t.exports.getConstants=()=>({defaultLength:24,bigLength:32}),t.exports.init=f,t.exports.createId=g,t.exports.bufToBigInt=i,t.exports.createCounter=h,t.exports.createFingerprint=s,t.exports.isCuid=(e,{minLength:t=2,maxLength:r=32}={})=>{let n=e.length,i=/^[0-9a-z]+$/;try{if("string"==typeof e&&n>=t&&n<=r&&i.test(e))return!0}finally{}return!1}}),Yl=se((e,t)=>{c(),u(),p(),m(),d(),l();var{createId:r,init:n,getConstants:i,isCuid:a}=zl();t.exports.createId=r,t.exports.init=n,t.exports.getConstants=i,t.exports.isCuid=a}),qf={};pt(qf,{DMMF:()=>ir,Debug:()=>K,Decimal:()=>ae,Extensions:()=>fi,MetricsClient:()=>Ct,PrismaClientInitializationError:()=>F,PrismaClientKnownRequestError:()=>X,PrismaClientRustPanicError:()=>le,PrismaClientUnknownRequestError:()=>ne,PrismaClientValidationError:()=>ie,Public:()=>gi,Sql:()=>fe,createParam:()=>ia,defineDmmfProperty:()=>ua,deserializeJsonResponse:()=>Qe,deserializeRawResult:()=>si,dmmfToRuntimeDataModel:()=>Ns,empty:()=>fa,getPrismaClient:()=>iu,getRuntime:()=>Ot,join:()=>da,makeStrictEnum:()=>ou,makeTypedQueryFactory:()=>pa,objectEnumValues:()=>En,raw:()=>Ui,serializeJsonQuery:()=>Cn,skip:()=>Rn,sqltag:()=>Fi,warnEnvConflicts:()=>{},warnOnce:()=>tr}),module.exports=qo(qf),c(),u(),p(),m(),d(),l();var fi={};function Zo(e){return"function"==typeof e?e:t=>t.$extends(e)}function Xo(e){return e}pt(fi,{defineExtension:()=>Zo,getExtensionContext:()=>Xo}),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var gi={};function es(...e){return e=>e}pt(gi,{validator:()=>es}),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var yi,ts,rs,ns,is=!0;typeof g<"u"&&(({FORCE_COLOR:yi,NODE_DISABLE_COLORS:ts,NO_COLOR:rs,TERM:ns}=g.env||{}),is=g.stdout&&g.stdout.isTTY);var vu={enabled:!ts&&null==rs&&"dumb"!==ns&&(null!=yi&&"0"!==yi||is)};function j(e,t){let r=new RegExp(`\\x1b\\[${t}m`,"g"),n=`[${e}m`,i=`[${t}m`;return function(e){return vu.enabled&&null!=e?n+(~(""+e).indexOf(i)?e.replace(r,i+n):e)+i:e}}var $g=j(0,0),Xr=j(1,22),en=j(2,22),Vg=j(3,23),tn=j(4,24),qg=j(7,27),Bg=j(8,28),jg=j(9,29),Qg=j(30,39),ft=j(31,39),os=j(32,39),ss=j(33,39),as=j(34,39),Hg=j(35,39),ls=j(36,39),Gg=j(37,39),cs=j(90,39),Jg=j(90,39),Wg=j(40,49),Kg=j(41,49),zg=j(42,49),Yg=j(43,49),Zg=j(44,49),Xg=j(45,49),ey=j(46,49),ty=j(47,49);c(),u(),p(),m(),d(),l();var Au=100,us=["green","yellow","blue","magenta","cyan","red"],Kt=[],ps=Date.now(),Ru=0,hi=typeof g<"u"?g.env:{};globalThis.DEBUG??=hi.DEBUG??"",globalThis.DEBUG_COLORS??=!hi.DEBUG_COLORS||"true"===hi.DEBUG_COLORS;var zt={enable(e){"string"==typeof e&&(globalThis.DEBUG=e)},disable(){let e=globalThis.DEBUG;return globalThis.DEBUG="",e},enabled(e){let t=globalThis.DEBUG.split(",").map(e=>e.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),r=t.some(t=>""!==t&&"-"!==t[0]&&e.match(RegExp(t.split("*").join(".*")+"$"))),n=t.some(t=>""!==t&&"-"===t[0]&&e.match(RegExp(t.slice(1).split("*").join(".*")+"$")));return r&&!n},log:(...e)=>{let[t,r,...n]=e;(console.warn??console.log)(`${t} ${r}`,...n)},formatters:{}};function Cu(e){let t={color:us[Ru++%us.length],enabled:zt.enabled(e),namespace:e,log:zt.log,extend:()=>{}};return new Proxy((...e)=>{let{enabled:r,namespace:n,color:i,log:a}=t;if(0!==e.length&&Kt.push([n,...e]),Kt.length>Au&&Kt.shift(),zt.enabled(n)||r){let t=e.map(e=>"string"==typeof e?e:Su(e)),r=`+${Date.now()-ps}ms`;ps=Date.now(),a(n,...t,r)}},{get:(e,r)=>t[r],set:(e,r,n)=>t[r]=n})}var K=new Proxy(Cu,{get:(e,t)=>zt[t],set:(e,t,r)=>zt[t]=r});function Su(e,t=2){let r=new Set;return JSON.stringify(e,(e,t)=>{if("object"==typeof t&&null!==t){if(r.has(t))return"[Circular *]";r.add(t)}else if("bigint"==typeof t)return t.toString();return t},t)}function ms(e=7500){let t=Kt.map(([e,...t])=>`${e} ${t.map(e=>"string"==typeof e?e:JSON.stringify(e)).join(" ")}`).join("\n");return t.length<e?t:t.slice(-e)}function ds(){Kt.length=0}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var tp=xs(),bi=tp.version;function gt(e){return rp()||("library"===e?.config.engineType?"library":"binary"===e?.config.engineType?"binary":"client"===e?.config.engineType?"client":np(e))}function rp(){let e=g.env.PRISMA_CLIENT_ENGINE_TYPE;return"library"===e?"library":"binary"===e?"binary":"client"===e?"client":void 0}function np(e){return e?.previewFeatures.includes("queryCompiler")?"client":"library"}function nn(e){return"DriverAdapterError"===e.name&&"object"==typeof e.cause}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var O={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Character:6,Text:7,Date:8,Time:9,DateTime:10,Json:11,Enum:12,Bytes:13,Set:14,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,EnumArray:76,BytesArray:77,UuidArray:78,UnknownNumber:128};c(),u(),p(),m(),d(),l();var vs="prisma+postgres",ln=`${vs}:`;function cn(e){return e?.toString().startsWith(`${ln}//`)??!1}function Pi(e){if(!cn(e))return!1;let{host:t}=new URL(e);return t.includes("localhost")||t.includes("127.0.0.1")||t.includes("[::1]")}var er={};pt(er,{error:()=>ap,info:()=>sp,log:()=>op,query:()=>lp,should:()=>Cs,tags:()=>Xt,warn:()=>Ti}),c(),u(),p(),m(),d(),l();var Xt={error:ft("prisma:error"),warn:ss("prisma:warn"),info:ls("prisma:info"),query:as("prisma:query")},Cs={warn:()=>!g.env.PRISMA_DISABLE_WARNINGS};function op(...e){console.log(...e)}function Ti(e,...t){Cs.warn()&&console.warn(`${Xt.warn} ${e}`,...t)}function sp(e,...t){console.info(`${Xt.info} ${e}`,...t)}function ap(e,...t){console.error(`${Xt.error} ${e}`,...t)}function lp(e,...t){console.log(`${Xt.query} ${e}`,...t)}function Ne(e,t){throw new Error(t)}function Ai(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pn(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Ri(e,t){if(0===e.length)return;let r=e[0];for(let n=1;n<e.length;n++)t(r,e[n])<0&&(r=e[n]);return r}function D(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Ds=new Set,tr=(e,t,...r)=>{Ds.has(e)||(Ds.add(e),Ti(t,...r))},F=class e extends Error{clientVersion;errorCode;retryable;constructor(t,r,n){super(t),this.name="PrismaClientInitializationError",this.clientVersion=r,this.errorCode=n,Error.captureStackTrace(e)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};D(F,"PrismaClientInitializationError"),c(),u(),p(),m(),d(),l();var X=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(e,{code:t,clientVersion:r,meta:n,batchRequestIdx:i}){super(e),this.name="PrismaClientKnownRequestError",this.code=t,this.clientVersion=r,this.meta=n,Object.defineProperty(this,"batchRequestIdx",{value:i,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};D(X,"PrismaClientKnownRequestError"),c(),u(),p(),m(),d(),l();var le=class extends Error{clientVersion;constructor(e,t){super(e),this.name="PrismaClientRustPanicError",this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};D(le,"PrismaClientRustPanicError"),c(),u(),p(),m(),d(),l();var ne=class extends Error{clientVersion;batchRequestIdx;constructor(e,{clientVersion:t,batchRequestIdx:r}){super(e),this.name="PrismaClientUnknownRequestError",this.clientVersion=t,Object.defineProperty(this,"batchRequestIdx",{value:r,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};D(ne,"PrismaClientUnknownRequestError"),c(),u(),p(),m(),d(),l();var ie=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(e,{clientVersion:t}){super(e),this.clientVersion=t}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};D(ie,"PrismaClientValidationError"),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Se=class{_map=new Map;get(e){return this._map.get(e)?.value}set(e,t){this._map.set(e,{value:t})}getOrCreate(e,t){let r=this._map.get(e);if(r)return r.value;let n=t();return this.set(e,n),n}};function qe(e){return e.substring(0,1).toLowerCase()+e.substring(1)}function Ms(e,t){let r={};for(let n of e)r[n[t]]=n;return r}function rr(e){let t;return{get:()=>(t||(t={value:e()}),t.value)}}function Ns(e){return{models:Ci(e.models),enums:Ci(e.enums),types:Ci(e.types)}}function Ci(e){let t={};for(let{name:r,...n}of e)t[r]=n;return t}function ht(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function mn(e){return"Invalid Date"!==e.toString()}function wt(e){return!!v.isDecimal(e)||null!==e&&"object"==typeof e&&"number"==typeof e.s&&"number"==typeof e.e&&"function"==typeof e.toFixed&&Array.isArray(e.d)}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var ir={};function up(e){return{name:e.name,values:e.values.map(e=>e.name)}}pt(ir,{ModelAction:()=>nr,datamodelEnumToSchemaEnum:()=>up}),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var nr=(e=>(e.findUnique="findUnique",e.findUniqueOrThrow="findUniqueOrThrow",e.findFirst="findFirst",e.findFirstOrThrow="findFirstOrThrow",e.findMany="findMany",e.create="create",e.createMany="createMany",e.createManyAndReturn="createManyAndReturn",e.update="update",e.updateMany="updateMany",e.updateManyAndReturn="updateManyAndReturn",e.upsert="upsert",e.delete="delete",e.deleteMany="deleteMany",e.groupBy="groupBy",e.count="count",e.aggregate="aggregate",e.findRaw="findRaw",e.aggregateRaw="aggregateRaw",e))(nr||{}),pp=Ae(Rs()),mp={red:ft,gray:cs,dim:en,bold:Xr,underline:tn,highlightSource:e=>e.highlight()},dp={red:e=>e,gray:e=>e,dim:e=>e,bold:e=>e,underline:e=>e,highlightSource:e=>e};function fp({message:e,originalMethod:t,isPanic:r,callArguments:n}){return{functionName:`prisma.${t}()`,message:e,isPanic:r??!1,callArguments:n}}function gp({functionName:e,location:t,message:r,isPanic:n,contextLines:i,callArguments:a},o){let s=[""],l=t?" in":":";if(n?(s.push(o.red(`Oops, an unknown error occurred! This is ${o.bold("on us")}, you did nothing wrong.`)),s.push(o.red(`It occurred in the ${o.bold(`\`${e}\``)} invocation${l}`))):s.push(o.red(`Invalid ${o.bold(`\`${e}\``)} invocation${l}`)),t&&s.push(o.underline(yp(t))),i){s.push("");let e=[i.toString()];a&&(e.push(a),e.push(o.dim(")"))),s.push(e.join("")),a&&s.push("")}else s.push(""),a&&s.push(a),s.push("");return s.push(r),s.join("\n")}function yp(e){let t=[e.fileName];return e.lineNumber&&t.push(String(e.lineNumber)),e.columnNumber&&t.push(String(e.columnNumber)),t.join(":")}function dn(e){let t,r=e.showColors?mp:dp;return t=typeof $getTemplateParameters<"u"?$getTemplateParameters(e,r):fp(e),gp(t,r)}c(),u(),p(),m(),d(),l();var Qs=Ae(Si());function $s(e,t,r){let n=bp(hp(Vs(e)));n?fn(n,t,r):t.addErrorMessage(()=>"Unknown error")}function Vs(e){return e.errors.flatMap(e=>"Union"===e.kind?Vs(e):[e])}function hp(e){let t=new Map,r=[];for(let n of e){if("InvalidArgumentType"!==n.kind){r.push(n);continue}let e=`${n.selectionPath.join(".")}:${n.argumentPath.join(".")}`,i=t.get(e);i?t.set(e,{...n,argument:{...n.argument,typeNames:wp(i.argument.typeNames,n.argument.typeNames)}}):t.set(e,n)}return r.push(...t.values()),r}function wp(e,t){return[...new Set(e.concat(t))]}function bp(e){return Ri(e,(e,t)=>{let r=Us(e),n=Us(t);return r!==n?r-n:Fs(e)-Fs(t)})}function Us(e){let t=0;return Array.isArray(e.selectionPath)&&(t+=e.selectionPath.length),Array.isArray(e.argumentPath)&&(t+=e.argumentPath.length),t}function Fs(e){switch(e.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return-10;default:return 0}}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var we=class{constructor(e,t){this.name=e,this.value=t}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(e){let{colors:{green:t}}=e.context;e.addMarginSymbol(t(this.isRequired?"+":"?")),e.write(t(this.name)),this.isRequired||e.write(t("?")),e.write(t(": ")),"string"==typeof this.value?e.write(t(this.value)):e.write(this.value)}};c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),Bs(),c(),u(),p(),m(),d(),l();var bt=class{constructor(e=0,t){this.context=t,this.currentIndent=e}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(e){return"string"==typeof e?this.currentLine+=e:e.write(this),this}writeJoined(e,t,r=(e,t)=>t.write(e)){let n=t.length-1;for(let i=0;i<t.length;i++)r(t[i],this),i!==n&&this.write(e);return this}writeLine(e){return this.write(e).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let e=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,e?.(),this}withIndent(e){return this.indent(),e(this),this.unindent(),this}afterNextNewline(e){return this.afterNextNewLineCallback=e,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(e){return this.marginSymbol=e,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join("\n")}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let e=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+e.slice(1):e}};qs(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var gn=class{constructor(e){this.value=e}write(e){e.write(this.value)}markAsError(){this.value.markAsError()}};c(),u(),p(),m(),d(),l();var yn=e=>e,hn={bold:yn,red:yn,green:yn,dim:yn,enabled:!1},js={bold:Xr,red:ft,green:os,dim:en,enabled:!0},Et={write(e){e.writeLine(",")}};c(),u(),p(),m(),d(),l();var Ie=class{constructor(e){this.contents=e}isUnderlined=!1;color=e=>e;underline(){return this.isUnderlined=!0,this}setColor(e){return this.color=e,this}write(e){let t=e.getCurrentLineLength();e.write(this.color(this.contents)),this.isUnderlined&&e.afterNextNewline(()=>{e.write(" ".repeat(t)).writeLine(this.color("~".repeat(this.contents.length)))})}};c(),u(),p(),m(),d(),l();var Be=class{hasError=!1;markAsError(){return this.hasError=!0,this}},xt=class extends Be{items=[];addItem(e){return this.items.push(new gn(e)),this}getField(e){return this.items[e]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(e=>e.value.getPrintWidth()))+2}write(e){0!==this.items.length?this.writeWithItems(e):this.writeEmpty(e)}writeEmpty(e){let t=new Ie("[]");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithItems(e){let{colors:t}=e.context;e.writeLine("[").withIndent(()=>e.writeJoined(Et,this.items).newLine()).write("]"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(t.red("~".repeat(this.getPrintWidth())))})}asObject(){}},Pt=class e extends Be{fields={};suggestions=[];addField(e){this.fields[e.name]=e}addSuggestion(e){this.suggestions.push(e)}getField(e){return this.fields[e]}getDeepField(t){let[r,...n]=t,i=this.getField(r);if(!i)return;let a=i;for(let t of n){let r;if(a.value instanceof e?r=a.value.getField(t):a.value instanceof xt&&(r=a.value.getField(Number(t))),!r)return;a=r}return a}getDeepFieldValue(e){return 0===e.length?this:this.getDeepField(e)?.value}hasField(e){return!!this.getField(e)}removeAllFields(){this.fields={}}removeField(e){delete this.fields[e]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(e){return this.getField(e)?.value}getDeepSubSelectionValue(t){let r=this;for(let n of t){if(!(r instanceof e))return;let t=r.getSubSelectionValue(n);if(!t)return;r=t}return r}getDeepSelectionParent(t){let r=this.getSelectionParent();if(!r)return;let n=r;for(let r of t){let t=n.value.getFieldValue(r);if(!(t&&t instanceof e))return;let i=t.getSelectionParent();if(!i)return;n=i}return n}getSelectionParent(){let e=this.getField("select")?.value.asObject();if(e)return{kind:"select",value:e};let t=this.getField("include")?.value.asObject();return t?{kind:"include",value:t}:void 0}getSubSelectionValue(e){return this.getSelectionParent()?.value.fields[e].value}getPrintWidth(){let e=Object.values(this.fields);return 0==e.length?2:Math.max(...e.map(e=>e.getPrintWidth()))+2}write(e){let t=Object.values(this.fields);0!==t.length||0!==this.suggestions.length?this.writeWithContents(e,t):this.writeEmpty(e)}asObject(){return this}writeEmpty(e){let t=new Ie("{}");this.hasError&&t.setColor(e.context.colors.red).underline(),e.write(t)}writeWithContents(e,t){e.writeLine("{").withIndent(()=>{e.writeJoined(Et,[...t,...this.suggestions]).newLine()}),e.write("}"),this.hasError&&e.afterNextNewline(()=>{e.writeLine(e.context.colors.red("~".repeat(this.getPrintWidth())))})}};c(),u(),p(),m(),d(),l();var re=class extends Be{constructor(e){super(),this.text=e}getPrintWidth(){return this.text.length}write(e){let t=new Ie(this.text);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t)}asObject(){}};c(),u(),p(),m(),d(),l();var or=class{fields=[];addField(e,t){return this.fields.push({write(r){let{green:n,dim:i}=r.context.colors;r.write(n(i(`${e}: ${t}`))).addMarginSymbol(n(i("+")))}}),this}write(e){let{colors:{green:t}}=e.context;e.writeLine(t("{")).withIndent(()=>{e.writeJoined(Et,this.fields).newLine()}).write(t("}")).addMarginSymbol(t("+"))}};function fn(e,t,r){switch(e.kind){case"MutuallyExclusiveFields":Ep(e,t);break;case"IncludeOnScalar":xp(e,t);break;case"EmptySelection":Pp(e,t,r);break;case"UnknownSelectionField":Rp(e,t);break;case"InvalidSelectionValue":Cp(e,t);break;case"UnknownArgument":Sp(e,t);break;case"UnknownInputField":Ip(e,t);break;case"RequiredArgumentMissing":kp(e,t);break;case"InvalidArgumentType":Op(e,t);break;case"InvalidArgumentValue":Dp(e,t);break;case"ValueTooLarge":_p(e,t);break;case"SomeFieldsMissing":Mp(e,t);break;case"TooManyFieldsGiven":Np(e,t);break;case"Union":$s(e,t,r);break;default:throw new Error("not implemented: "+e.kind)}}function Ep(e,t){let r=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();r&&(r.getField(e.firstField)?.markAsError(),r.getField(e.secondField)?.markAsError()),t.addErrorMessage(t=>`Please ${t.bold("either")} use ${t.green(`\`${e.firstField}\``)} or ${t.green(`\`${e.secondField}\``)}, but ${t.red("not both")} at the same time.`)}function xp(e,t){let[r,n]=Tt(e.selectionPath),i=e.outputType,a=t.arguments.getDeepSelectionParent(r)?.value;if(a&&(a.getField(n)?.markAsError(),i))for(let e of i.fields)e.isRelation&&a.addSuggestion(new we(e.name,"true"));t.addErrorMessage(e=>{let t=`Invalid scalar field ${e.red(`\`${n}\``)} for ${e.bold("include")} statement`;return t+=i?` on model ${e.bold(i.name)}. ${sr(e)}`:".",t+=`\nNote that ${e.bold("include")} statements only accept relation fields.`,t})}function Pp(e,t,r){let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let r=n.getField("omit")?.value.asObject();if(r)return void Tp(e,t,r);if(n.hasField("select"))return void vp(e,t)}r?.[qe(e.outputType.name)]?Ap(e,t):t.addErrorMessage(()=>`Unknown field at "${e.selectionPath.join(".")} selection"`)}function Tp(e,t,r){r.removeAllFields();for(let t of e.outputType.fields)r.addSuggestion(new we(t.name,"false"));t.addErrorMessage(t=>`The ${t.red("omit")} statement includes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}function vp(e,t){let r=e.outputType,n=t.arguments.getDeepSelectionParent(e.selectionPath)?.value,i=n?.isEmpty()??!1;n&&(n.removeAllFields(),Js(n,r)),t.addErrorMessage(e=>i?`The ${e.red("`select`")} statement for type ${e.bold(r.name)} must not be empty. ${sr(e)}`:`The ${e.red("`select`")} statement for type ${e.bold(r.name)} needs ${e.bold("at least one truthy value")}.`)}function Ap(e,t){let r=new or;for(let t of e.outputType.fields)t.isRelation||r.addField(t.name,"false");let n=new we("omit",r).makeRequired();if(0===e.selectionPath.length)t.arguments.addSuggestion(n);else{let[r,i]=Tt(e.selectionPath),a=t.arguments.getDeepSelectionParent(r)?.value.asObject()?.getField(i);if(a){let e=a?.value.asObject()??new Pt;e.addSuggestion(n),a.value=e}}t.addErrorMessage(t=>`The global ${t.red("omit")} configuration excludes every field of the model ${t.bold(e.outputType.name)}. At least one field must be included in the result`)}function Rp(e,t){let r=Ws(e.selectionPath,t);if("unknown"!==r.parentKind){r.field.markAsError();let t=r.parent;switch(r.parentKind){case"select":Js(t,e.outputType);break;case"include":Lp(t,e.outputType);break;case"omit":Up(t,e.outputType)}}t.addErrorMessage(t=>{let n=[`Unknown field ${t.red(`\`${r.fieldName}\``)}`];return"unknown"!==r.parentKind&&n.push(`for ${t.bold(r.parentKind)} statement`),n.push(`on model ${t.bold(`\`${e.outputType.name}\``)}.`),n.push(sr(t)),n.join(" ")})}function Cp(e,t){let r=Ws(e.selectionPath,t);"unknown"!==r.parentKind&&r.field.value.markAsError(),t.addErrorMessage(t=>`Invalid value for selection field \`${t.red(r.fieldName)}\`: ${e.underlyingError}`)}function Sp(e,t){let r=e.argumentPath[0],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&(n.getField(r)?.markAsError(),Fp(n,e.arguments)),t.addErrorMessage(t=>Hs(t,r,e.arguments.map(e=>e.name)))}function Ip(e,t){let[r,n]=Tt(e.argumentPath),i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){i.getDeepField(e.argumentPath)?.markAsError();let t=i.getDeepFieldValue(r)?.asObject();t&&Ks(t,e.inputType)}t.addErrorMessage(t=>Hs(t,n,e.inputType.fields.map(e=>e.name)))}function Hs(e,t,r){let n=[`Unknown argument \`${e.red(t)}\`.`],i=Vp(t,r);return i&&n.push(`Did you mean \`${e.green(i)}\`?`),r.length>0&&n.push(sr(e)),n.join(" ")}function kp(e,t){let r;t.addErrorMessage(e=>r?.value instanceof re&&"null"===r.value.text?`Argument \`${e.green(a)}\` must not be ${e.red("null")}.`:`Argument \`${e.green(a)}\` is missing.`);let n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(!n)return;let[i,a]=Tt(e.argumentPath),o=new or,s=n.getDeepFieldValue(i)?.asObject();if(s){if(r=s.getField(a),r&&s.removeField(a),1===e.inputTypes.length&&"object"===e.inputTypes[0].kind){for(let t of e.inputTypes[0].fields)o.addField(t.name,t.typeNames.join(" | "));s.addSuggestion(new we(a,o).makeRequired())}else{let t=e.inputTypes.map(Gs).join(" | ");s.addSuggestion(new we(a,t).makeRequired())}if(e.dependentArgumentPath){n.getDeepField(e.dependentArgumentPath)?.markAsError();let[,r]=Tt(e.dependentArgumentPath);t.addErrorMessage(e=>`Argument \`${e.green(a)}\` is required because argument \`${e.green(r)}\` was provided.`)}}}function Gs(e){return"list"===e.kind?`${Gs(e.elementType)}[]`:e.name}function Op(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(t=>{let n=wn("or",e.argument.typeNames.map(e=>t.green(e)));return`Argument \`${t.bold(r)}\`: Invalid value provided. Expected ${n}, provided ${t.red(e.inferredType)}.`})}function Dp(e,t){let r=e.argument.name,n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();n&&n.getDeepFieldValue(e.argumentPath)?.markAsError(),t.addErrorMessage(t=>{let n=[`Invalid value for argument \`${t.bold(r)}\``];if(e.underlyingError&&n.push(`: ${e.underlyingError}`),n.push("."),e.argument.typeNames.length>0){let r=wn("or",e.argument.typeNames.map(e=>t.green(e)));n.push(` Expected ${r}.`)}return n.join("")})}function _p(e,t){let r,n=e.argument.name,i=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(i){let t=i.getDeepField(e.argumentPath)?.value;t?.markAsError(),t instanceof re&&(r=t.text)}t.addErrorMessage(e=>{let t=["Unable to fit value"];return r&&t.push(e.red(r)),t.push(`into a 64-bit signed integer for field \`${e.bold(n)}\``),t.join(" ")})}function Mp(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject();if(n){let t=n.getDeepFieldValue(e.argumentPath)?.asObject();t&&Ks(t,e.inputType)}t.addErrorMessage(t=>{let n=[`Argument \`${t.bold(r)}\` of type ${t.bold(e.inputType.name)} needs`];return 1===e.constraints.minFieldCount?e.constraints.requiredFields?n.push(`${t.green("at least one of")} ${wn("or",e.constraints.requiredFields.map(e=>`\`${t.bold(e)}\``))} arguments.`):n.push(`${t.green("at least one")} argument.`):n.push(`${t.green(`at least ${e.constraints.minFieldCount}`)} arguments.`),n.push(sr(t)),n.join(" ")})}function Np(e,t){let r=e.argumentPath[e.argumentPath.length-1],n=t.arguments.getDeepSubSelectionValue(e.selectionPath)?.asObject(),i=[];if(n){let t=n.getDeepFieldValue(e.argumentPath)?.asObject();t&&(t.markAsError(),i=Object.keys(t.getFields()))}t.addErrorMessage(t=>{let n=[`Argument \`${t.bold(r)}\` of type ${t.bold(e.inputType.name)} needs`];return 1===e.constraints.minFieldCount&&1==e.constraints.maxFieldCount?n.push(`${t.green("exactly one")} argument,`):1==e.constraints.maxFieldCount?n.push(`${t.green("at most one")} argument,`):n.push(`${t.green(`at most ${e.constraints.maxFieldCount}`)} arguments,`),n.push(`but you provided ${wn("and",i.map(e=>t.red(e)))}. Please choose`),1===e.constraints.maxFieldCount?n.push("one."):n.push(`${e.constraints.maxFieldCount}.`),n.join(" ")})}function Js(e,t){for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new we(r.name,"true"))}function Lp(e,t){for(let r of t.fields)r.isRelation&&!e.hasField(r.name)&&e.addSuggestion(new we(r.name,"true"))}function Up(e,t){for(let r of t.fields)!e.hasField(r.name)&&!r.isRelation&&e.addSuggestion(new we(r.name,"true"))}function Fp(e,t){for(let r of t)e.hasField(r.name)||e.addSuggestion(new we(r.name,r.typeNames.join(" | ")))}function Ws(e,t){let[r,n]=Tt(e),i=t.arguments.getDeepSubSelectionValue(r)?.asObject();if(!i)return{parentKind:"unknown",fieldName:n};let a=i.getFieldValue("select")?.asObject(),o=i.getFieldValue("include")?.asObject(),s=i.getFieldValue("omit")?.asObject(),l=a?.getField(n);return a&&l?{parentKind:"select",parent:a,field:l,fieldName:n}:(l=o?.getField(n),o&&l?{parentKind:"include",field:l,parent:o,fieldName:n}:(l=s?.getField(n),s&&l?{parentKind:"omit",field:l,parent:s,fieldName:n}:{parentKind:"unknown",fieldName:n}))}function Ks(e,t){if("object"===t.kind)for(let r of t.fields)e.hasField(r.name)||e.addSuggestion(new we(r.name,r.typeNames.join(" | ")))}function Tt(e){let t=[...e],r=t.pop();if(!r)throw new Error("unexpected empty path");return[t,r]}function sr({green:e,enabled:t}){return"Available options are "+(t?`listed in ${e("green")}`:"marked with ?")+"."}function wn(e,t){if(1===t.length)return t[0];let r=[...t],n=r.pop();return`${r.join(", ")} ${e} ${n}`}var $p=3;function Vp(e,t){let r,n=1/0;for(let i of t){let t=(0,Qs.default)(e,i);t>$p||t<n&&(n=t,r=i)}return r}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var ar=class{modelName;name;typeName;isList;isEnum;constructor(e,t,r,n,i){this.modelName=e,this.name=t,this.typeName=r,this.isList=n,this.isEnum=i}_toGraphQLInputType(){return`${this.isList?"List":""}${this.isEnum?"Enum":""}${this.typeName}FieldRefInput<${this.modelName}>`}};function vt(e){return e instanceof ar}c(),u(),p(),m(),d(),l();var bn=Symbol(),ki=new WeakMap,Le=class{constructor(e){e===bn?ki.set(this,`Prisma.${this._getName()}`):ki.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return ki.get(this)}},lr=class extends Le{_getNamespace(){return"NullTypes"}},cr=class extends lr{#e};Oi(cr,"DbNull");var ur=class extends lr{#e};Oi(ur,"JsonNull");var pr=class extends lr{#e};Oi(pr,"AnyNull");var En={classes:{DbNull:cr,JsonNull:ur,AnyNull:pr},instances:{DbNull:new cr(bn),JsonNull:new ur(bn),AnyNull:new pr(bn)}};function Oi(e,t){Object.defineProperty(e,"name",{value:t,configurable:!0})}c(),u(),p(),m(),d(),l();var zs=": ",xn=class{constructor(e,t){this.name=e,this.value=t}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+zs.length}write(e){let t=new Ie(this.name);this.hasError&&t.underline().setColor(e.context.colors.red),e.write(t).write(zs).write(this.value)}},Di=class{arguments;errorMessages=[];constructor(e){this.arguments=e}write(e){e.write(this.arguments)}addErrorMessage(e){this.errorMessages.push(e)}renderAllMessages(e){return this.errorMessages.map(t=>t(e)).join("\n")}};function At(e){return new Di(Ys(e))}function Ys(e){let t=new Pt;for(let[r,n]of Object.entries(e)){let e=new xn(r,Zs(n));t.addField(e)}return t}function Zs(e){if("string"==typeof e)return new re(JSON.stringify(e));if("number"==typeof e||"boolean"==typeof e)return new re(String(e));if("bigint"==typeof e)return new re(`${e}n`);if(null===e)return new re("null");if(void 0===e)return new re("undefined");if(wt(e))return new re(`new Prisma.Decimal("${e.toFixed()}")`);if(e instanceof Uint8Array)return y.isBuffer(e)?new re(`Buffer.alloc(${e.byteLength})`):new re(`new Uint8Array(${e.byteLength})`);if(e instanceof Date){let t=mn(e)?e.toISOString():"Invalid Date";return new re(`new Date("${t}")`)}return e instanceof Le?new re(`Prisma.${e._getName()}`):vt(e)?new re(`prisma.${qe(e.modelName)}.$fields.${e.name}`):Array.isArray(e)?qp(e):"object"==typeof e?Ys(e):new re(Object.prototype.toString.call(e))}function qp(e){let t=new xt;for(let r of e)t.addItem(Zs(r));return t}function Pn(e,t){let r="pretty"===t?js:hn;return{message:e.renderAllMessages(r),args:new bt(0,{colors:r}).write(e).toString()}}function Tn({args:e,errors:t,errorFormat:r,callsite:n,originalMethod:i,clientVersion:a,globalOmit:o}){let s=At(e);for(let e of t)fn(e,s,o);let{message:l,args:c}=Pn(s,r),u=dn({message:l,callsite:n,originalMethod:i,showColors:"pretty"===r,callArguments:c});throw new ie(u,{clientVersion:a})}function ke(e){return e.replace(/^./,e=>e.toLowerCase())}function ea(e,t,r){let n=ke(r);return t.result&&(t.result.$allModels||t.result[n])?Bp({...e,...Xs(t.name,e,t.result.$allModels),...Xs(t.name,e,t.result[n])}):e}function Bp(e){let t=new Se,r=(n,i)=>t.getOrCreate(n,()=>i.has(n)?[n]:(i.add(n),e[n]?e[n].needs.flatMap(e=>r(e,i)):[n]));return pn(e,e=>({...e,needs:r(e.name,new Set)}))}function Xs(e,t,r){return r?pn(r,({needs:e,compute:r},n)=>({name:n,needs:e?Object.keys(e).filter(t=>e[t]):[],compute:jp(t,n,r)})):{}}function jp(e,t,r){let n=e?.[t]?.compute;return n?e=>r({...e,[t]:n(e)}):r}function ta(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(e[n.name])for(let e of n.needs)r[e]=!0;return r}function ra(e,t){if(!t)return e;let r={...e};for(let n of Object.values(t))if(!e[n.name])for(let e of n.needs)delete r[e];return r}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var vn=class{constructor(e,t){this.extension=e,this.previous=t}computedFieldsCache=new Se;modelExtensionsCache=new Se;queryCallbacksCache=new Se;clientExtensions=rr(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=rr(()=>{let e=this.previous?.getAllBatchQueryCallbacks()??[],t=this.extension.query?.$__internalBatch;return t?e.concat(t):e});getAllComputedFields(e){return this.computedFieldsCache.getOrCreate(e,()=>ea(this.previous?.getAllComputedFields(e),this.extension,e))}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(e){return this.modelExtensionsCache.getOrCreate(e,()=>{let t=ke(e);return this.extension.model&&(this.extension.model[t]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(e),...this.extension.model.$allModels,...this.extension.model[t]}:this.previous?.getAllModelExtensions(e)})}getAllQueryCallbacks(e,t){return this.queryCallbacksCache.getOrCreate(`${e}:${t}`,()=>{let r=this.previous?.getAllQueryCallbacks(e,t)??[],n=[],i=this.extension.query;return i&&(i[e]||i.$allModels||i[t]||i.$allOperations)?(void 0!==i[e]&&(void 0!==i[e][t]&&n.push(i[e][t]),void 0!==i[e].$allOperations&&n.push(i[e].$allOperations)),"$none"!==e&&void 0!==i.$allModels&&(void 0!==i.$allModels[t]&&n.push(i.$allModels[t]),void 0!==i.$allModels.$allOperations&&n.push(i.$allModels.$allOperations)),void 0!==i[t]&&n.push(i[t]),void 0!==i.$allOperations&&n.push(i.$allOperations),r.concat(n)):r})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},Rt=class e{constructor(e){this.head=e}static empty(){return new e}static single(t){return new e(new vn(t))}isEmpty(){return void 0===this.head}append(t){return new e(new vn(t,this.head))}getAllComputedFields(e){return this.head?.getAllComputedFields(e)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(e){return this.head?.getAllModelExtensions(e)}getAllQueryCallbacks(e,t){return this.head?.getAllQueryCallbacks(e,t)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};c(),u(),p(),m(),d(),l();var An=class{constructor(e){this.name=e}};function na(e){return e instanceof An}function ia(e){return new An(e)}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var oa=Symbol(),mr=class{constructor(e){if(e!==oa)throw new Error("Skip instance can not be constructed directly")}ifUndefined(e){return void 0===e?Rn:e}},Rn=new mr(oa);function Oe(e){return e instanceof mr}var Qp={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},sa="explicitly `undefined` values are not allowed";function Cn({modelName:e,action:t,args:r,runtimeDataModel:n,extensions:i=Rt.empty(),callsite:a,clientMethod:o,errorFormat:s,clientVersion:l,previewFeatures:c,globalOmit:u}){let d=new _i({runtimeDataModel:n,modelName:e,action:t,rootArgs:r,callsite:a,extensions:i,selectionPath:[],argumentPath:[],originalMethod:o,errorFormat:s,clientVersion:l,previewFeatures:c,globalOmit:u});return{modelName:e,action:Qp[t],query:dr(r,d)}}function dr({select:e,include:t,...r}={},n){let i=r.omit;return delete r.omit,{arguments:la(r,n),selection:Hp(e,t,i,n)}}function Hp(e,t,r,n){return e?(t?n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:n.getSelectionPath()}):r&&n.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:n.getSelectionPath()}),Kp(e,n)):Gp(n,t,r)}function Gp(e,t,r){let n={};return e.modelOrType&&!e.isRawAction()&&(n.$composites=!0,n.$scalars=!0),t&&Jp(n,t,e),Wp(n,r,e),n}function Jp(e,t,r){for(let[n,i]of Object.entries(t)){if(Oe(i))continue;let t=r.nestSelection(n);if(Mi(i,t),!1===i||void 0===i){e[n]=!1;continue}let a=r.findField(n);a&&"object"!==a.kind&&r.throwValidationError({kind:"IncludeOnScalar",selectionPath:r.getSelectionPath().concat(n),outputType:r.getOutputTypeDescription()}),e[n]=a?dr(!0===i?{}:i,t):!0===i||dr(i,t)}}function Wp(e,t,r){let n=r.getComputedFields(),i=ra({...r.getGlobalOmit(),...t},n);for(let[t,a]of Object.entries(i)){if(Oe(a))continue;Mi(a,r.nestSelection(t));let i=r.findField(t);n?.[t]&&!i||(e[t]=!a)}}function Kp(e,t){let r={},n=t.getComputedFields(),i=ta(e,n);for(let[e,a]of Object.entries(i)){if(Oe(a))continue;let i=t.nestSelection(e);Mi(a,i);let o=t.findField(e);if(!n?.[e]||o){if(!1===a||void 0===a||Oe(a)){r[e]=!1;continue}if(!0===a){r[e]="object"!==o?.kind||dr({},i);continue}r[e]=dr(a,i)}}return r}function aa(e,t){if(null===e)return null;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return e;if("bigint"==typeof e)return{$type:"BigInt",value:String(e)};if(ht(e)){if(mn(e))return{$type:"DateTime",value:e.toISOString()};t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(na(e))return{$type:"Param",value:e.name};if(vt(e))return{$type:"FieldRef",value:{_ref:e.name,_container:e.modelName}};if(Array.isArray(e))return zp(e,t);if(ArrayBuffer.isView(e)){let{buffer:t,byteOffset:r,byteLength:n}=e;return{$type:"Bytes",value:y.from(t,r,n).toString("base64")}}if(Yp(e))return e.values;if(wt(e))return{$type:"Decimal",value:e.toFixed()};if(e instanceof Le){if(e!==En.instances[e._getName()])throw new Error("Invalid ObjectEnumValue");return{$type:"Enum",value:e._getName()}}return Zp(e)?e.toJSON():"object"==typeof e?la(e,t):void t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:t.getSelectionPath(),argumentPath:t.getArgumentPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(e)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}function la(e,t){if(e.$type)return{$type:"Raw",value:e};let r={};for(let n in e){let i=e[n],a=t.nestArgument(n);Oe(i)||(void 0!==i?r[n]=aa(i,a):t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidArgumentValue",argumentPath:a.getArgumentPath(),selectionPath:t.getSelectionPath(),argument:{name:t.getArgumentName(),typeNames:[]},underlyingError:sa}))}return r}function zp(e,t){let r=[];for(let n=0;n<e.length;n++){let i=t.nestArgument(String(n)),a=e[n];if(void 0===a||Oe(a)){let e=void 0===a?"undefined":"Prisma.skip";t.throwValidationError({kind:"InvalidArgumentValue",selectionPath:i.getSelectionPath(),argumentPath:i.getArgumentPath(),argument:{name:`${t.getArgumentName()}[${n}]`,typeNames:[]},underlyingError:`Can not use \`${e}\` value within array. Use \`null\` or filter out \`${e}\` values`})}r.push(aa(a,i))}return r}function Yp(e){return"object"==typeof e&&null!==e&&!0===e.__prismaRawParameters__}function Zp(e){return"object"==typeof e&&null!==e&&"function"==typeof e.toJSON}function Mi(e,t){void 0===e&&t.isPreviewFeatureOn("strictUndefinedChecks")&&t.throwValidationError({kind:"InvalidSelectionValue",selectionPath:t.getSelectionPath(),underlyingError:sa})}var _i=class e{constructor(e){this.params=e,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(e){Tn({errors:[e],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(this.params.modelName&&this.modelOrType)return{name:this.params.modelName,fields:this.modelOrType.fields.map(e=>({name:e.name,typeName:"boolean",isRelation:"object"===e.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(e){return this.params.previewFeatures.includes(e)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(e){return this.modelOrType?.fields.find(t=>t.name===e)}nestSelection(t){let r=this.findField(t),n="object"===r?.kind?r.type:void 0;return new e({...this.params,modelName:n,selectionPath:this.params.selectionPath.concat(t)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[qe(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:Ne(this.params.action,"Unknown action")}}nestArgument(t){return new e({...this.params,argumentPath:this.params.argumentPath.concat(t)})}};function ca(e){if(!e._hasPreviewFlag("metrics"))throw new ie("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:e._clientVersion})}c(),u(),p(),m(),d(),l();var Ct=class{_client;constructor(e){this._client=e}prometheus(e){return ca(this._client),this._client._engine.metrics({format:"prometheus",...e})}json(e){return ca(this._client),this._client._engine.metrics({format:"json",...e})}};function ua(e,t){let r=rr(()=>Xp(t));Object.defineProperty(e,"dmmf",{get:()=>r.get()})}function Xp(e){throw new Error("Prisma.dmmf is not available when running in edge runtimes.")}function Ni(e){return Object.entries(e).map(([e,t])=>({name:e,...t}))}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Li=new WeakMap,Sn="$$PrismaTypedSql",fr=class{constructor(e,t){Li.set(this,{sql:e,values:t}),Object.defineProperty(this,Sn,{value:Sn})}get sql(){return Li.get(this).sql}get values(){return Li.get(this).values}};function pa(e){return(...t)=>new fr(e,t)}function In(e){return null!=e&&e[Sn]===Sn}c(),u(),p(),m(),d(),l();var nu=Ae(xi());c(),u(),p(),m(),d(),l(),ma(),gs(),Es(),c(),u(),p(),m(),d(),l();var fe=class e{constructor(t,r){if(t.length-1!==r.length)throw 0===t.length?new TypeError("Expected at least 1 string"):new TypeError(`Expected ${t.length} strings to have ${t.length-1} values`);let n=r.reduce((t,r)=>t+(r instanceof e?r.values.length:1),0);this.values=new Array(n),this.strings=new Array(n+1),this.strings[0]=t[0];let i=0,a=0;for(;i<r.length;){let n=r[i++],o=t[i];if(n instanceof e){this.strings[a]+=n.strings[0];let e=0;for(;e<n.values.length;)this.values[a++]=n.values[e++],this.strings[a]=n.strings[e];this.strings[a]+=o}else this.values[a++]=n,this.strings[a]=o}}get sql(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`?${this.strings[t++]}`;return r}get statement(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`:${t}${this.strings[t++]}`;return r}get text(){let e=this.strings.length,t=1,r=this.strings[0];for(;t<e;)r+=`$${t}${this.strings[t++]}`;return r}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function da(e,t=",",r="",n=""){if(0===e.length)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new fe([r,...Array(e.length-1).fill(t),n],e)}function Ui(e){return new fe([e],[])}var fa=Ui("");function Fi(e,...t){return new fe(e,t)}function gr(e){return{getKeys:()=>Object.keys(e),getPropertyValue:t=>e[t]}}function ce(e,t){return{getKeys:()=>[e],getPropertyValue:()=>t()}}function et(e){let t=new Se;return{getKeys:()=>e.getKeys(),getPropertyValue:r=>t.getOrCreate(r,()=>e.getPropertyValue(r)),getPropertyDescriptor:t=>e.getPropertyDescriptor?.(t)}}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var On={enumerable:!0,configurable:!0,writable:!0};function Dn(e){let t=new Set(e);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>On,has:(e,r)=>t.has(r),set:(e,r,n)=>t.add(r)&&Reflect.set(e,r,n),ownKeys:()=>[...t]}}var ga=Symbol.for("nodejs.util.inspect.custom");function Pe(e,t){let r=em(t),n=new Set,i=new Proxy(e,{get(e,t){if(n.has(t))return e[t];let i=r.get(t);return i?i.getPropertyValue(t):e[t]},has(e,t){if(n.has(t))return!0;let i=r.get(t);return i?i.has?.(t)??!0:Reflect.has(e,t)},ownKeys(e){let t=ya(Reflect.ownKeys(e),r),i=ya(Array.from(r.keys()),r);return[...new Set([...t,...i,...n])]},set:(e,t,i)=>!1!==r.get(t)?.getPropertyDescriptor?.(t)?.writable&&(n.add(t),Reflect.set(e,t,i)),getOwnPropertyDescriptor(e,t){let n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return n;let i=r.get(t);return i?i.getPropertyDescriptor?{...On,...i?.getPropertyDescriptor(t)}:On:n},defineProperty:(e,t,r)=>(n.add(t),Reflect.defineProperty(e,t,r)),getPrototypeOf:()=>Object.prototype});return i[ga]=function(){let e={...this};return delete e[ga],e},i}function em(e){let t=new Map;for(let r of e){let e=r.getKeys();for(let n of e)t.set(n,r)}return t}function ya(e,t){return e.filter(e=>t.get(e)?.has?.(e)??!0)}function St(e){return{getKeys:()=>e,has:()=>!1,getPropertyValue(){}}}function It(e,t){return{batch:e,transaction:"batch"===t?.kind?{isolationLevel:t.options.isolationLevel}:void 0}}function ha(e){if(void 0===e)return"";let t=At(e);return new bt(0,{colors:hn}).write(t).toString()}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var tm="P2037";function _n({error:e,user_facing_error:t},r,n){return t.error_code?new X(rm(t,n),{code:t.error_code,clientVersion:r,meta:t.meta,batchRequestIdx:t.batch_request_idx}):new ne(e,{clientVersion:r,batchRequestIdx:t.batch_request_idx})}function rm(e,t){let r=e.message;return("postgresql"===t||"postgres"===t||"mysql"===t)&&e.error_code===tm&&(r+="\nPrisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate"),r}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var $i=class{getLocation(){return null}};function je(e){return"function"==typeof $EnabledCallSite&&"minimal"!==e?new $EnabledCallSite:new $i}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var wa={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function kt(e={}){let t=im(e);return Object.entries(t).reduce((e,[t,r])=>(void 0!==wa[t]?e.select[t]={select:r}:e[t]=r,e),{select:{}})}function im(e={}){return"boolean"==typeof e._count?{...e,_count:{_all:e._count}}:e}function Mn(e={}){return t=>("boolean"==typeof e._count&&(t._count=t._count._all),t)}function ba(e,t){return t({action:"aggregate",unpacker:Mn(e),argsMapper:kt})(e)}function om(e={}){let{select:t,...r}=e;return kt("object"==typeof t?{...r,_count:t}:{...r,_count:{_all:!0}})}function sm(e={}){return"object"==typeof e.select?t=>Mn(e)(t)._count:t=>Mn(e)(t)._count._all}function Ea(e,t){return t({action:"count",unpacker:sm(e),argsMapper:om})(e)}function am(e={}){let t=kt(e);if(Array.isArray(t.by))for(let e of t.by)"string"==typeof e&&(t.select[e]=!0);else"string"==typeof t.by&&(t.select[t.by]=!0);return t}function lm(e={}){return t=>("boolean"==typeof e?._count&&t.forEach(e=>{e._count=e._count._all}),t)}function xa(e,t){return t({action:"groupBy",unpacker:lm(e),argsMapper:am})(e)}function Pa(e,t,r){return"aggregate"===t?e=>ba(e,r):"count"===t?e=>Ea(e,r):"groupBy"===t?e=>xa(e,r):void 0}function Ta(e,t){let r=Ms(t.fields.filter(e=>!e.relationName),"name");return new Proxy({},{get(t,n){if(n in t||"symbol"==typeof n)return t[n];let i=r[n];return i?new ar(e,n,i.type,i.isList,"enum"===i.kind):void 0},...Dn(Object.keys(r))})}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var va=e=>Array.isArray(e)?e:e.split("."),Vi=(e,t)=>va(t).reduce((e,t)=>e&&e[t],e),Aa=(e,t,r)=>va(t).reduceRight((t,r,n,i)=>Object.assign({},Vi(e,i.slice(0,n)),{[r]:t}),r);function cm(e,t){return void 0===e||void 0===t?[]:[...t,"select",e]}function um(e,t,r){return void 0===t?e??{}:Aa(t,r,e||!0)}function qi(e,t,r,n,i,a){let o=e._runtimeDataModel.models[t].fields.reduce((e,t)=>({...e,[t.name]:t}),{});return s=>{let l=je(e._errorFormat),c=cm(n,i),u=um(s,a,c),d=r({dataPath:c,callsite:l})(u),h=pm(e,t);return new Proxy(d,{get(t,n){if(!h.includes(n))return t[n];let i=[o[n].type,r,n];return qi(e,...i,c,u)},...Dn([...h,...Object.getOwnPropertyNames(d)])})}}function pm(e,t){return e._runtimeDataModel.models[t].fields.filter(e=>"object"===e.kind).map(e=>e.name)}var mm=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],dm=["aggregate","count","groupBy"];function Bi(e,t){let r=e._extensions.getAllModelExtensions(t)??{};return Pe({},[fm(e,t),ym(e,t),gr(r),ce("name",()=>t),ce("$name",()=>t),ce("$parent",()=>e._appliedParent)])}function fm(e,t){let r=ke(t),n=Object.keys(nr).concat("count");return{getKeys:()=>n,getPropertyValue(n){let i=n,a=a=>o=>{let s=je(e._errorFormat);return e._createPrismaPromise(l=>{let c={args:o,dataPath:[],action:i,model:t,clientMethod:`${r}.${n}`,jsModelName:r,transaction:l,callsite:s};return e._request({...c,...a})},{action:i,args:o,model:t})};return mm.includes(i)?qi(e,t,a):gm(n)?Pa(e,n,a):a({})}}}function gm(e){return dm.includes(e)}function ym(e,t){return et(ce("fields",()=>{let r=e._runtimeDataModel.models[t];return Ta(t,r)}))}function Ra(e){return e.replace(/^./,e=>e.toUpperCase())}c(),u(),p(),m(),d(),l();var ji=Symbol();function yr(e){let t=[hm(e),wm(e),ce(ji,()=>e),ce("$parent",()=>e._appliedParent)],r=e._extensions.getAllClientExtensions();return r&&t.push(gr(r)),Pe(e,t)}function hm(e){let t=Object.getPrototypeOf(e._originalClient),r=[...new Set(Object.getOwnPropertyNames(t))];return{getKeys:()=>r,getPropertyValue:t=>e[t]}}function wm(e){let t=Object.keys(e._runtimeDataModel.models),r=t.map(ke),n=[...new Set(t.concat(r))];return et({getKeys:()=>n,getPropertyValue(t){let r=Ra(t);return void 0!==e._runtimeDataModel.models[r]?Bi(e,r):void 0!==e._runtimeDataModel.models[t]?Bi(e,t):void 0},getPropertyDescriptor(e){if(!r.includes(e))return{enumerable:!1}}})}function Ca(e){return e[ji]?e[ji]:e}function Sa(e){if("function"==typeof e)return e(this);if(e.client?.__AccelerateEngine){let t=e.client.__AccelerateEngine;this._originalClient._engine=new t(this._originalClient._accelerateEngineConfig)}return yr(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(e)},_appliedParent:{value:this,configurable:!0},$on:{value:void 0}}))}function Ia({result:e,modelName:t,select:r,omit:n,extensions:i}){let a=i.getAllComputedFields(t);if(!a)return e;let o=[],s=[];for(let t of Object.values(a)){if(n){if(n[t.name])continue;let e=t.needs.filter(e=>n[e]);e.length>0&&s.push(St(e))}else if(r){if(!r[t.name])continue;let e=t.needs.filter(e=>!r[e]);e.length>0&&s.push(St(e))}bm(e,t.needs)&&o.push(Em(t,Pe(e,o)))}return o.length>0||s.length>0?Pe(e,[...o,...s]):e}function bm(e,t){return t.every(t=>Ai(e,t))}function Em(e,t){return et(ce(e.name,()=>e.compute(t)))}function Nn({visitor:e,result:t,args:r,runtimeDataModel:n,modelName:i}){if(Array.isArray(t)){for(let a=0;a<t.length;a++)t[a]=Nn({result:t[a],args:r,modelName:i,runtimeDataModel:n,visitor:e});return t}let a=e(t,i,r)??t;return r.include&&ka({includeOrSelect:r.include,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),r.select&&ka({includeOrSelect:r.select,result:a,parentModelName:i,runtimeDataModel:n,visitor:e}),a}function ka({includeOrSelect:e,result:t,parentModelName:r,runtimeDataModel:n,visitor:i}){for(let[a,o]of Object.entries(e)){if(!o||null==t[a]||Oe(o))continue;let e=n.models[r].fields.find(e=>e.name===a);if(!e||"object"!==e.kind||!e.relationName)continue;let s="object"==typeof o?o:{};t[a]=Nn({visitor:i,result:t[a],args:s,modelName:e.type,runtimeDataModel:n})}}function Oa({result:e,modelName:t,args:r,extensions:n,runtimeDataModel:i,globalOmit:a}){return n.isEmpty()||null==e||"object"!=typeof e||!i.models[t]?e:Nn({result:e,args:r??{},modelName:t,runtimeDataModel:i,visitor:(e,t,r)=>{let i=ke(t);return Ia({result:e,modelName:i,select:r.select,omit:r.select?void 0:{...a?.[i],...r.omit},extensions:n})}})}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),l(),c(),u(),p(),m(),d(),l();var xm=["$connect","$disconnect","$on","$transaction","$extends"],Da=xm;function _a(e){if(e instanceof fe)return Pm(e);if(In(e))return Tm(e);if(Array.isArray(e)){let t=[e[0]];for(let r=1;r<e.length;r++)t[r]=hr(e[r]);return t}let t={};for(let r in e)t[r]=hr(e[r]);return t}function Pm(e){return new fe(e.strings,e.values)}function Tm(e){return new fr(e.sql,e.values)}function hr(e){if("object"!=typeof e||null==e||e instanceof Le||vt(e))return e;if(wt(e))return new ae(e.toFixed());if(ht(e))return new Date(+e);if(ArrayBuffer.isView(e))return e.slice(0);if(Array.isArray(e)){let t,r=e.length;for(t=Array(r);r--;)t[r]=hr(e[r]);return t}if("object"==typeof e){let t={};for(let r in e)"__proto__"===r?Object.defineProperty(t,r,{value:hr(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=hr(e[r]);return t}Ne(e,"Unknown value")}function Na(e,t,r,n=0){return e._createPrismaPromise(i=>{let a=t.customDataProxyFetch;return"transaction"in t&&void 0!==i&&("batch"===t.transaction?.kind&&t.transaction.lock.then(),t.transaction=i),n===r.length?e._executeRequest(t):r[n]({model:t.model,operation:t.model?t.action:t.clientMethod,args:_a(t.args??{}),__internalParams:t,query:(i,o=t)=>{let s=o.customDataProxyFetch;return o.customDataProxyFetch=$a(a,s),o.args=i,Na(e,o,r,n+1)}})})}function La(e,t){let{jsModelName:r,action:n,clientMethod:i}=t,a=r?n:i;if(e._extensions.isEmpty())return e._executeRequest(t);let o=e._extensions.getAllQueryCallbacks(r??"$none",a);return Na(e,t,o)}function Ua(e){return t=>{let r={requests:t},n=t[0].extensions.getAllBatchQueryCallbacks();return n.length?Fa(r,n,0,e):e(r)}}function Fa(e,t,r,n){if(r===t.length)return n(e);let i=e.customDataProxyFetch,a=e.requests[0].transaction;return t[r]({args:{queries:e.requests.map(e=>({model:e.modelName,operation:e.action,args:e.args})),transaction:a?{isolationLevel:"batch"===a.kind?a.isolationLevel:void 0}:void 0},__internalParams:e,query(a,o=e){let s=o.customDataProxyFetch;return o.customDataProxyFetch=$a(i,s),Fa(o,t,r+1,n)}})}var Ma=e=>e;function $a(e=Ma,t=Ma){return r=>e(t(r))}c(),u(),p(),m(),d(),l();var Va=K("prisma:client"),qa={Vercel:"vercel","Netlify CI":"netlify"};function Ba({postinstall:e,ciName:t,clientVersion:r}){if(Va("checkPlatformCaching:postinstall",e),Va("checkPlatformCaching:ciName",t),!0===e&&t&&t in qa){let e=`Prisma has detected that this project was built on ${t}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.\n\nLearn how: https://pris.ly/d/${qa[t]}-build`;throw console.error(e),new F(e,r)}}function ja(e,t){return e?e.datasources?e.datasources:e.datasourceUrl?{[t[0]]:{url:e.datasourceUrl}}:{}:{}}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var vm=()=>"node"===globalThis.process?.release?.name,Am=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,Rm=()=>!!globalThis.Deno,Cm=()=>"object"==typeof globalThis.Netlify,Sm=()=>"object"==typeof globalThis.EdgeRuntime,Im=()=>"Cloudflare-Workers"===globalThis.navigator?.userAgent;function km(){return[[Cm,"netlify"],[Sm,"edge-light"],[Im,"workerd"],[Rm,"deno"],[Am,"bun"],[vm,"node"]].flatMap(e=>e[0]()?[e[1]]:[]).at(0)??""}var Om={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function Ot(){let e=km();return{id:e,prettyName:Om[e]||e,isEdge:["workerd","deno","netlify","edge-light"].includes(e)}}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Qi=Ae(vi());function Qa(e){return e?e.replace(/".*"/g,'"X"').replace(/[\s:\[]([+-]?([0-9]*[.])?[0-9]+)/g,e=>`${e[0]}5`):""}function Ha(e){return e.split("\n").map(e=>e.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join("\n")}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Ga=Ae(Os());function Ja({title:e,user:t="prisma",repo:r="prisma",template:n="bug_report.yml",body:i}){return(0,Ga.default)({user:t,repo:r,template:n,title:e,body:i})}function Wa({version:e,binaryTarget:t,title:r,description:n,engineVersion:i,database:a,query:o}){let s=ms(6e3-(o?.length??0)),l=Ha((0,Qi.default)(s)),c=n?`# Description\n\`\`\`\n${n}\n\`\`\``:"",u=Ja({title:r,body:(0,Qi.default)(`Hi Prisma Team! My Prisma Client just crashed. This is the report:\n## Versions\n\n| Name            | Version            |\n|-----------------|--------------------|\n| Node            | ${g.version?.padEnd(19)}| \n| OS              | ${t?.padEnd(19)}|\n| Prisma Client   | ${e?.padEnd(19)}|\n| Query Engine    | ${i?.padEnd(19)}|\n| Database        | ${a?.padEnd(19)}|\n\n${c}\n\n## Logs\n\`\`\`\n${l}\n\`\`\`\n\n## Client Snippet\n\`\`\`ts\n// PLEASE FILL YOUR CODE SNIPPET HERE\n\`\`\`\n\n## Schema\n\`\`\`prisma\n// PLEASE ADD YOUR SCHEMA HERE IF POSSIBLE\n\`\`\`\n\n## Prisma Engine Query\n\`\`\`\n${o?Qa(o):""}\n\`\`\`\n`)});return`${r}\n\nThis is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.\n\n${tn(u)}\n\nIf you want the Prisma team to look into it, please open the link above 🙏\nTo increase the chance of success, please post your schema and a snippet of\nhow you used Prisma Client in the issue. \n`}function $(e,t){throw new Error(t)}function Hi(e,t){return e===t||null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>Hi(e[r],t[r]))}function Dt(e,t){let r=Object.keys(e),n=Object.keys(t);return(r.length<n.length?r:n).every(r=>{if(typeof e[r]==typeof t[r]&&"object"!=typeof e[r])return e[r]===t[r];if(ae.isDecimal(e[r])||ae.isDecimal(t[r])){let n=Ka(e[r]),i=Ka(t[r]);return n&&i&&n.equals(i)}if(e[r]instanceof Uint8Array||t[r]instanceof Uint8Array){let n=za(e[r]),i=za(t[r]);return n&&i&&n.equals(i)}return e[r]instanceof Date||t[r]instanceof Date?Ya(e[r])?.getTime()===Ya(t[r])?.getTime():"bigint"==typeof e[r]||"bigint"==typeof t[r]?Za(e[r])===Za(t[r]):"number"==typeof e[r]||"number"==typeof t[r]?Xa(e[r])===Xa(t[r]):Hi(e[r],t[r])})}function Ka(e){return ae.isDecimal(e)?e:"number"==typeof e||"string"==typeof e?new ae(e):void 0}function za(e){return y.isBuffer(e)?e:e instanceof Uint8Array?y.from(e.buffer,e.byteOffset,e.byteLength):"string"==typeof e?y.from(e,"base64"):void 0}function Ya(e){return e instanceof Date?e:"string"==typeof e||"number"==typeof e?new Date(e):void 0}function Za(e){return"bigint"==typeof e?e:"number"==typeof e||"string"==typeof e?BigInt(e):void 0}function Xa(e){return"number"==typeof e?e:"string"==typeof e?Number(e):void 0}function wr(e){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t instanceof Uint8Array?y.from(t).toString("base64"):t)}function Dm(e){return null!==e&&"object"==typeof e&&"string"==typeof e.$type}function _m(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n],n);return r}function Qe(e){return null===e?e:Array.isArray(e)?e.map(Qe):"object"==typeof e?Dm(e)?Mm(e):null!==e.constructor&&"Object"!==e.constructor.name?e:_m(e,Qe):e}function Mm({$type:e,value:t}){switch(e){case"BigInt":return BigInt(t);case"Bytes":{let{buffer:e,byteOffset:r,byteLength:n}=y.from(t,"base64");return new Uint8Array(e,r,n)}case"DateTime":return new Date(t);case"Decimal":return new v(t);case"Json":return JSON.parse(t);default:$(t,"Unknown tagged value")}}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),l(),c(),u(),p(),m(),d(),l(),l(),c(),u(),p(),m(),d(),l();var ue=class extends Error{name="UserFacingError";code;meta;constructor(e,t,r){super(e),this.code=t,this.meta=r??{}}toQueryResponseErrorObject(){return{error:this.message,user_facing_error:{is_panic:!1,message:this.message,meta:this.meta,error_code:this.code}}}};function _t(e){if(!nn(e))throw e;let t=Nm(e),r=el(e);throw t&&r?new ue(r,t,{driverAdapterError:e}):e}function Ji(e){throw nn(e)?new ue(`Raw query failed. Code: \`${e.cause.originalCode??"N/A"}\`. Message: \`${e.cause.originalMessage??el(e)}\``,"P2010",{driverAdapterError:e}):e}function Nm(e){switch(e.cause.kind){case"AuthenticationFailed":return"P1000";case"DatabaseNotReachable":return"P1001";case"DatabaseDoesNotExist":return"P1003";case"SocketTimeout":return"P1008";case"DatabaseAlreadyExists":return"P1009";case"DatabaseAccessDenied":return"P1010";case"TlsConnectionError":return"P1011";case"ConnectionClosed":return"P1017";case"TransactionAlreadyClosed":return"P1018";case"LengthMismatch":return"P2000";case"UniqueConstraintViolation":return"P2002";case"ForeignKeyConstraintViolation":return"P2003";case"UnsupportedNativeDataType":return"P2010";case"NullConstraintViolation":return"P2011";case"ValueOutOfRange":return"P2020";case"TableDoesNotExist":return"P2021";case"ColumnNotFound":return"P2022";case"InvalidIsolationLevel":case"InconsistentColumnData":return"P2023";case"MissingFullTextSearchIndex":return"P2030";case"TransactionWriteConflict":return"P2034";case"GenericJs":return"P2036";case"TooManyConnections":return"P2037";case"postgres":case"sqlite":case"mysql":case"mssql":return;default:$(e.cause,`Unknown error: ${e.cause}`)}}function el(e){switch(e.cause.kind){case"AuthenticationFailed":return`Authentication failed against the database server, the provided database credentials for \`${e.cause.user??"(not available)"}\` are not valid`;case"DatabaseNotReachable":{let t=e.cause.host&&e.cause.port?`${e.cause.host}:${e.cause.port}`:e.cause.host;return"Can't reach database server"+(t?` at ${t}`:"")}case"DatabaseDoesNotExist":return`Database \`${e.cause.db??"(not available)"}\` does not exist on the database server`;case"SocketTimeout":return"Operation has timed out";case"DatabaseAlreadyExists":return`Database \`${e.cause.db??"(not available)"}\` already exists on the database server`;case"DatabaseAccessDenied":return`User was denied access on the database \`${e.cause.db??"(not available)"}\``;case"TlsConnectionError":return`Error opening a TLS connection: ${e.cause.reason}`;case"ConnectionClosed":return"Server has closed the connection.";case"TransactionAlreadyClosed":return e.cause.cause;case"LengthMismatch":return`The provided value for the column is too long for the column's type. Column: ${e.cause.column??"(not available)"}`;case"UniqueConstraintViolation":return`Unique constraint failed on the ${Gi(e.cause.constraint)}`;case"ForeignKeyConstraintViolation":return`Foreign key constraint violated on the ${Gi(e.cause.constraint)}`;case"UnsupportedNativeDataType":return`Failed to deserialize column of type '${e.cause.type}'. If you're using $queryRaw and this column is explicitly marked as \`Unsupported\` in your Prisma schema, try casting this column to any supported Prisma type such as \`String\`.`;case"NullConstraintViolation":return`Null constraint violation on the ${Gi(e.cause.constraint)}`;case"ValueOutOfRange":return`Value out of range for the type: ${e.cause.cause}`;case"TableDoesNotExist":return`The table \`${e.cause.table??"(not available)"}\` does not exist in the current database.`;case"ColumnNotFound":return`The column \`${e.cause.column??"(not available)"}\` does not exist in the current database.`;case"InvalidIsolationLevel":return`Error in connector: Conversion error: ${e.cause.level}`;case"InconsistentColumnData":return`Inconsistent column data: ${e.cause.cause}`;case"MissingFullTextSearchIndex":return"Cannot find a fulltext index to use for the native search, try adding a @@fulltext([Fields...]) to your schema";case"TransactionWriteConflict":return"Transaction failed due to a write conflict or a deadlock. Please retry your transaction";case"GenericJs":return`Error in external connector (id ${e.cause.id})`;case"TooManyConnections":return`Too many database connections opened: ${e.cause.cause}`;case"sqlite":case"postgres":case"mysql":case"mssql":return;default:$(e.cause,`Unknown error: ${e.cause}`)}}function Gi(e){return e&&"fields"in e?`fields: (${e.fields.map(e=>`\`${e}\``).join(", ")})`:e&&"index"in e?`constraint: \`${e.index}\``:e&&"foreignKey"in e?"foreign key":"(not available)"}function tl(e,t){let r=e.map(e=>t.keys.reduce((t,r)=>(t[r]=Qe(e[r]),t),{})),n=new Set(t.nestedSelection);return t.arguments.map(i=>{let a=r.findIndex(e=>Dt(e,i));if(-1===a)return t.expectNonEmpty?new ue("An operation failed because it depends on one or more records that were required but not found","P2025"):null;{let t=Object.entries(e[a]).filter(([e])=>n.has(e));return Object.fromEntries(t)}})}c(),u(),p(),m(),d(),l(),l();var G=class extends Error{name="DataMapperError"};function nl(e,t,r){switch(t.type){case"affectedRows":if("number"!=typeof e)throw new G(`Expected an affected rows count, got: ${typeof e} (${e})`);return{count:e};case"object":return Ki(e,t.fields,r,t.skipNulls);case"field":return Wi(e,"<result>",t.fieldType,r);default:$(t,`Invalid data mapping type: '${t.type}'`)}}function Ki(e,t,r,n){if(null===e)return null;if(Array.isArray(e)){let i=e;return n&&(i=i.filter(e=>null!==e)),i.map(e=>rl(e,t,r))}if("object"==typeof e)return rl(e,t,r);if("string"==typeof e){let i;try{i=JSON.parse(e)}catch(e){throw new G("Expected an array or object, got a string that is not valid JSON",{cause:e})}return Ki(i,t,r,n)}throw new G("Expected an array or an object, got: "+typeof e)}function rl(e,t,r){if("object"!=typeof e)throw new G(`Expected an object, but got '${typeof e}'`);let n={};for(let[i,a]of Object.entries(t))switch(a.type){case"affectedRows":throw new G(`Unexpected 'AffectedRows' node in data mapping for field '${i}'`);case"object":{if(null!==a.serializedName&&!Object.hasOwn(e,a.serializedName))throw new G(`Missing data field (Object): '${i}'; node: ${JSON.stringify(a)}; data: ${JSON.stringify(e)}`);let t=null!==a.serializedName?e[a.serializedName]:e;n[i]=Ki(t,a.fields,r,a.skipNulls);break}case"field":{let t=a.dbName;if(!Object.hasOwn(e,t))throw new G(`Missing data field (Value): '${t}'; node: ${JSON.stringify(a)}; data: ${JSON.stringify(e)}`);n[i]=Lm(e[t],t,a.fieldType,r)}break;default:$(a,`DataMapper: Invalid data mapping node type: '${a.type}'`)}return n}function Lm(e,t,r,n){return null===e?"list"===r.arity?[]:null:"list"===r.arity?e.map((e,i)=>Wi(e,`${t}[${i}]`,r,n)):Wi(e,t,r,n)}function Wi(e,t,r,n){switch(r.type){case"unsupported":return e;case"string":if("string"!=typeof e)throw new G(`Expected a string in column '${t}', got ${typeof e}: ${e}`);return e;case"int":switch(typeof e){case"number":return Math.trunc(e);case"string":{let r=Math.trunc(Number(e));if(Number.isNaN(r)||!Number.isFinite(r))throw new G(`Expected an integer in column '${t}', got string: ${e}`);if(!Number.isSafeInteger(r))throw new G(`Integer value in column '${t}' is too large to represent as a JavaScript number without loss of precision, got: ${e}. Consider using BigInt type.`);return r}default:throw new G(`Expected an integer in column '${t}', got ${typeof e}: ${e}`)}case"bigint":if("number"!=typeof e&&"string"!=typeof e)throw new G(`Expected a bigint in column '${t}', got ${typeof e}: ${e}`);return{$type:"BigInt",value:e};case"float":if("number"==typeof e)return e;if("string"==typeof e){let r=Number(e);if(Number.isNaN(r)&&!/^[-+]?nan$/.test(e.toLowerCase()))throw new G(`Expected a float in column '${t}', got string: ${e}`);return r}throw new G(`Expected a float in column '${t}', got ${typeof e}: ${e}`);case"boolean":if("boolean"==typeof e)return e;if("number"==typeof e)return 1===e;if("string"==typeof e){if("true"===e||"TRUE"===e||"1"===e)return!0;if("false"===e||"FALSE"===e||"0"===e)return!1;throw new G(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`)}if(Array.isArray(e)){for(let t of e)if(0!==t)return!0;return!1}throw new G(`Expected a boolean in column '${t}', got ${typeof e}: ${e}`);case"decimal":if("number"!=typeof e&&"string"!=typeof e&&!ae.isDecimal(e))throw new G(`Expected a decimal in column '${t}', got ${typeof e}: ${e}`);return{$type:"Decimal",value:e};case"datetime":if("string"==typeof e)return{$type:"DateTime",value:Fm(e)};if("number"==typeof e||e instanceof Date)return{$type:"DateTime",value:e};throw new G(`Expected a date in column '${t}', got ${typeof e}: ${e}`);case"object":return{$type:"Json",value:wr(e)};case"json":return{$type:"Json",value:`${e}`};case"bytes":switch(r.encoding){case"base64":if("string"!=typeof e)throw new G(`Expected a base64-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:e};case"hex":if("string"!=typeof e||!e.startsWith("\\x"))throw new G(`Expected a hex-encoded byte array in column '${t}', got ${typeof e}: ${e}`);return{$type:"Bytes",value:y.from(e.slice(2),"hex").toString("base64")};case"array":if(Array.isArray(e))return{$type:"Bytes",value:y.from(e).toString("base64")};if(e instanceof Uint8Array)return{$type:"Bytes",value:y.from(e).toString("base64")};throw new G(`Expected a byte array in column '${t}', got ${typeof e}: ${e}`);default:$(r.encoding,`DataMapper: Unknown bytes encoding: ${r.encoding}`)}break;case"enum":{let t=n[r.name];if(void 0===t)throw new G(`Unknown enum '${r.name}'`);let i=t[`${e}`];if(void 0===i)throw new G(`Value '${e}' not found in enum '${r.name}'`);return i}default:$(r,`DataMapper: Unknown result type: ${r.type}`)}}var br,Um=/\d{2}:\d{2}:\d{2}(?:\.\d+)?(Z|[+-]\d{2}(:?\d{2})?)?$/;function Fm(e){let t=Um.exec(e);if(null===t)return`${e}Z`;let r=e,[n,i,a]=t;return void 0!==i&&"Z"!==i&&void 0===a?r=`${e}:00`:void 0===i&&(r=`${e}Z`),n.length===e.length?`1970-01-01T${r}`:r}function $m(e){switch(e){case"postgresql":case"postgres":case"prisma+postgres":return"postgresql";case"sqlserver":return"mssql";case"mysql":case"sqlite":case"cockroachdb":case"mongodb":return e;default:$(e,`Unknown provider: ${e}`)}}async function Ln({query:e,tracingHelper:t,provider:r,onQuery:n,execute:i}){return await t.runInChildSpan({name:"db_query",kind:br.CLIENT,attributes:{"db.query.text":e.sql,"db.system.name":$m(r)}},async()=>{let t=new Date,r=w.now(),a=await i(),o=w.now();return n?.({timestamp:t,duration:o-r,query:e.sql,params:e.args}),a})}function tt(e,t){var r="000000000"+e;return r.substr(r.length-t)}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(br||(br={})),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var il=Ae(ys(),1);function Vm(){try{return il.default.hostname()}catch{return g.env._CLUSTER_NETWORK_NAME_||g.env.COMPUTERNAME||"hostname"}}var ol=2,qm=tt(g.pid.toString(36),ol),sl=Vm(),Bm=sl.length,jm=tt(sl.split("").reduce(function(e,t){return+e+t.charCodeAt(0)},+Bm+36).toString(36),ol);function zi(){return qm+jm}function Un(e){return"string"==typeof e&&/^c[a-z0-9]{20,32}$/.test(e)}function Yi(e){let t=Math.pow(36,4),r=0;function n(){return tt((Math.random()*t|0).toString(36),4)}function i(){return"c"+(new Date).getTime().toString(36)+tt((r=r<t?r:0,r++,r-1).toString(36),4)+e()+(n()+n())}return i.fingerprint=e,i.isCuid=Un,i}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Qm=Yi(zi),al=Qm,ic=Ae(Yl());c(),u(),p(),m(),d(),l(),Xe(),c(),u(),p(),m(),d(),l();var nt,Lt,Zl="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",kd=128;function Od(e){!nt||nt.length<e?(nt=y.allocUnsafe(e*kd),Zt.getRandomValues(nt),Lt=0):Lt+e>nt.length&&(Zt.getRandomValues(nt),Lt=0),Lt+=e}function so(e=21){Od(e|=0);let t="";for(let r=Lt-e;r<Lt;r++)t+=Zl[63&nt[r]];return t}c(),u(),p(),m(),d(),l(),Xe();var it,ec="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Ar=32,Dd=16,tc=10,Xl=0xffffffffffff;!function(e){e.Base32IncorrectEncoding="B32_ENC_INVALID",e.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",e.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",e.EncodeTimeNegative="ENC_TIME_NEG",e.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",e.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",e.PRNGDetectFailure="PRNG_DETECT",e.ULIDInvalid="ULID_INVALID",e.Unexpected="UNEXPECTED",e.UUIDInvalid="UUID_INVALID"}(it||(it={}));var ot=class extends Error{constructor(e,t){super(`${t} (${e})`),this.name="ULIDError",this.code=e}};function _d(e){let t=Math.floor(e()*Ar);return t===Ar&&(t=Ar-1),ec.charAt(t)}function Md(e){let t=Nd(),r=t&&(t.crypto||t.msCrypto)||(typeof yt<"u"?yt:null);if("function"==typeof r?.getRandomValues)return()=>{let e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};if("function"==typeof r?.randomBytes)return()=>r.randomBytes(1).readUInt8()/255;if(yt?.randomBytes)return()=>yt.randomBytes(1).readUInt8()/255;throw new ot(it.PRNGDetectFailure,"Failed to find a reliable PRNG")}function Nd(){return Fd()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function Ld(e,t){let r="";for(;e>0;e--)r=_d(t)+r;return r}function Ud(e,t=tc){if(isNaN(e))throw new ot(it.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>Xl)throw new ot(it.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${Xl}: ${e}`);if(e<0)throw new ot(it.EncodeTimeNegative,`Time must be positive: ${e}`);if(!1===Number.isInteger(e))throw new ot(it.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let r,n="";for(let i=t;i>0;i--)r=e%Ar,n=ec.charAt(r)+n,e=(e-r)/Ar;return n}function Fd(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function rc(e,t){let r=t||Md();return Ud(!e||isNaN(e)?Date.now():e,tc)+Ld(Dd,r)}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var oe=[];for(let e=0;e<256;++e)oe.push((e+256).toString(16).slice(1));function qn(e,t=0){return(oe[e[t+0]]+oe[e[t+1]]+oe[e[t+2]]+oe[e[t+3]]+"-"+oe[e[t+4]]+oe[e[t+5]]+"-"+oe[e[t+6]]+oe[e[t+7]]+"-"+oe[e[t+8]]+oe[e[t+9]]+"-"+oe[e[t+10]]+oe[e[t+11]]+oe[e[t+12]]+oe[e[t+13]]+oe[e[t+14]]+oe[e[t+15]]).toLowerCase()}c(),u(),p(),m(),d(),l(),Xe();var jn=new Uint8Array(256),Bn=jn.length;function Ut(){return Bn>jn.length-16&&(sn(jn),Bn=0),jn.slice(Bn,Bn+=16)}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),Xe();var ao={randomUUID:on};function $d(e,t,r){if(ao.randomUUID&&!t&&!e)return ao.randomUUID();let n=(e=e||{}).random??e.rng?.()??Ut();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return qn(n)}var lo=$d;c(),u(),p(),m(),d(),l();var co={};function Vd(e,t,r){let n;if(e)n=nc(e.random??e.rng?.()??Ut(),e.msecs,e.seq,t,r);else{let e=Date.now(),i=Ut();qd(co,e,i),n=nc(i,co.msecs,co.seq,t,r)}return t??qn(n)}function qd(e,t,r){return e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function nc(e,t,r,n,i=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(n){if(i<0||i+16>n.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`)}else n=new Uint8Array(16),i=0;return t??=Date.now(),r??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=255&t,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|3&e[10],n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}var uo=Vd,Qn=class{#e={};constructor(){this.register("uuid",new mo),this.register("cuid",new fo),this.register("ulid",new go),this.register("nanoid",new yo),this.register("product",new ho)}snapshot(){return Object.create(this.#e,{now:{value:new po}})}register(e,t){this.#e[e]=t}},po=class{#e=new Date;generate(){return this.#e.toISOString()}},mo=class{generate(e){if(4===e)return lo();if(7===e)return uo();throw new Error("Invalid UUID generator arguments")}},fo=class{generate(e){if(1===e)return al();if(2===e)return(0,ic.createId)();throw new Error("Invalid CUID generator arguments")}},go=class{generate(){return rc()}},yo=class{generate(e){if("number"==typeof e)return so(e);if(void 0===e)return so();throw new Error("Invalid Nanoid generator arguments")}},ho=class{generate(e,t){if(void 0===e||void 0===t)throw new Error("Invalid Product generator arguments");return Array.isArray(e)&&Array.isArray(t)?e.flatMap(e=>t.map(t=>[e,t])):Array.isArray(e)?e.map(e=>[e,t]):Array.isArray(t)?t.map(t=>[e,t]):[[e,t]]}};function Hn(e,t){return null==e?e:"string"==typeof e?Hn(JSON.parse(e),t):Array.isArray(e)?jd(e,t):Bd(e,t)}function Bd(e,t){if(t.pagination){let{skip:r,take:n,cursor:i}=t.pagination;if(null!==r&&r>0||0===n||null!==i&&!Dt(e,i))return null}return sc(e,t.nested)}function sc(e,t){for(let[r,n]of Object.entries(t))e[r]=Hn(e[r],n);return e}function jd(e,t){return null!==t.distinct&&(e=Qd(e,null!==t.linkingFields?[...t.distinct,...t.linkingFields]:t.distinct)),t.pagination&&(e=Hd(e,t.pagination,t.linkingFields)),t.reverse&&e.reverse(),0===Object.keys(t.nested).length?e:e.map(e=>sc(e,t.nested))}function Qd(e,t){let r=new Set,n=[];for(let i of e){let e=Rr(i,t);r.has(e)||(r.add(e),n.push(i))}return n}function Hd(e,t,r){if(null===r)return oc(e,t);let n=new Map;for(let t of e){let e=Rr(t,r);n.has(e)||n.set(e,[]),n.get(e).push(t)}let i=Array.from(n.entries());return i.sort(([e],[t])=>e<t?-1:e>t?1:0),i.flatMap(([,e])=>oc(e,t))}function oc(e,{cursor:t,skip:r,take:n}){let i=null!==t?e.findIndex(e=>Dt(e,t)):0;if(-1===i)return[];let a=i+(r??0),o=null!==n?a+n:e.length;return e.slice(a,o)}function Rr(e,t){return JSON.stringify(t.map(t=>e[t]))}function wo(e){return"object"==typeof e&&null!==e&&"param"===e.prisma__type}function bo(e){return"object"==typeof e&&null!==e&&"generatorCall"===e.prisma__type}function Po(e,t,r,n){let i=e.args.map(e=>Te(e,t,r));switch(e.type){case"rawSql":return[Wd(e.sql,i,e.argTypes)];case"templateSql":return(e.chunkable?zd(e.fragments,i,n):[i]).map(t=>{if(void 0!==n&&t.length>n)throw new ue("The query parameter limit supported by your database is exceeded.","P2029");return Gd(e.fragments,e.placeholderFormat,t,e.argTypes)});default:$(e.type,"Invalid query type")}}function Te(e,t,r){for(;Kd(e);)if(wo(e)){let r=t[e.prisma__value.name];if(void 0===r)throw new Error(`Missing value for query variable ${e.prisma__value.name}`);e=r}else if(bo(e)){let{name:n,args:i}=e.prisma__value,a=r[n];if(!a)throw new Error(`Encountered an unknown generator '${n}'`);e=a.generate(...i.map(e=>Te(e,t,r)))}else $(e,`Unexpected unevaluated value type: ${e}`);return Array.isArray(e)&&(e=e.map(e=>Te(e,t,r))),e}function Gd(e,t,r,n){let i="",a={placeholderNumber:1},o=[],s=[];for(let l of xo(e,r,n)){if(i+=Jd(l,t,a),"stringChunk"===l.type)continue;let e=o.length,r=o.push(...ac(l))-e;if("tuple"===l.argType.arity){if(r%l.argType.elements.length!==0)throw new Error(`Malformed query template. Expected the number of parameters to match the tuple arity, but got ${r} parameters for a tuple of arity ${l.argType.elements.length}.`);for(let e=0;e<r/l.argType.elements.length;e++)s.push(...l.argType.elements)}else for(let e=0;e<r;e++)s.push(l.argType)}return{sql:i,args:o,argTypes:s}}function Jd(e,t,r){let n=e.type;switch(n){case"parameter":return Eo(t,r.placeholderNumber++);case"stringChunk":return e.chunk;case"parameterTuple":return`(${0==e.value.length?"NULL":e.value.map(()=>Eo(t,r.placeholderNumber++)).join(",")})`;case"parameterTupleList":return e.value.map(n=>{let i=n.map(()=>Eo(t,r.placeholderNumber++)).join(e.itemSeparator);return`${e.itemPrefix}${i}${e.itemSuffix}`}).join(e.groupSeparator);default:$(n,"Invalid fragment type")}}function Eo(e,t){return e.hasNumbering?`${e.prefix}${t}`:e.prefix}function Wd(e,t,r){return{sql:e,args:t,argTypes:r}}function Kd(e){return wo(e)||bo(e)}function*xo(e,t,r){let n=0;for(let i of e)switch(i.type){case"parameter":if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);yield{...i,value:t[n],argType:r?.[n]},n++;break;case"stringChunk":yield i;break;case"parameterTuple":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let e=t[n];yield{...i,value:Array.isArray(e)?e:[e],argType:r?.[n]},n++;break}case"parameterTupleList":{if(n>=t.length)throw new Error(`Malformed query template. Fragments attempt to read over ${t.length} parameters.`);let e=t[n];if(!Array.isArray(e))throw new Error("Malformed query template. Tuple list expected.");if(0===e.length)throw new Error("Malformed query template. Tuple list cannot be empty.");for(let t of e)if(!Array.isArray(t))throw new Error("Malformed query template. Tuple expected.");yield{...i,value:e,argType:r?.[n]},n++;break}}}function*ac(e){switch(e.type){case"parameter":yield e.value;break;case"stringChunk":break;case"parameterTuple":yield*e.value;break;case"parameterTupleList":for(let t of e.value)yield*t}}function zd(e,t,r){let n=0,i=0;for(let r of xo(e,t,void 0)){let e=0;for(let t of ac(r))e++;i=Math.max(i,e),n+=e}let a=[[]];for(let o of xo(e,t,void 0))switch(o.type){case"parameter":for(let e of a)e.push(o.value);break;case"stringChunk":break;case"parameterTuple":{let e=o.value.length,t=[];if(r&&1===a.length&&e===i&&n>r&&n-e<r){let i=r-(n-e);t=Yd(o.value,i)}else t=[o.value];a=a.flatMap(e=>t.map(t=>[...e,t]));break}case"parameterTupleList":{let e=o.value.reduce((e,t)=>e+t.length,0),t=[],s=[],l=0;for(let c of o.value)r&&1===a.length&&e===i&&s.length>0&&n-e+l+c.length>r&&(t.push(s),s=[],l=0),s.push(c),l+=c.length;s.length>0&&t.push(s),a=a.flatMap(e=>t.map(t=>[...e,t]));break}}return a}function Yd(e,t){let r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}function lc(e){return e.rows.map(t=>t.reduce((t,r,n)=>{let i=e.columnNames[n].split("."),a=t;for(let e=0;e<i.length;e++){let t=i[e];e===i.length-1?a[t]=r:(void 0===a[t]&&(a[t]={}),a=a[t])}return t},{}))}function cc(e){return{columns:e.columnNames,types:e.columnTypes.map(e=>Zd(e)),rows:e.rows.map(t=>t.map((t,r)=>Ft(t,e.columnTypes[r])))}}function Ft(e,t){if(null===e)return null;switch(t){case O.Int32:switch(typeof e){case"number":return Math.trunc(e);case"string":return Math.trunc(Number(e));default:throw new Error(`Cannot serialize value of type ${typeof e} as Int32`)}case O.Int32Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int32Array`);return e.map(e=>Ft(e,O.Int32));case O.Int64:switch(typeof e){case"number":return BigInt(Math.trunc(e));case"string":return e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Int64`)}case O.Int64Array:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as Int64Array`);return e.map(e=>Ft(e,O.Int64));case O.Json:if("string"==typeof e)return JSON.parse(e);throw new Error(`Cannot serialize value of type ${typeof e} as Json`);case O.JsonArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as JsonArray`);return e.map(e=>Ft(e,O.Json));case O.Bytes:if(Array.isArray(e))return new Uint8Array(e);throw new Error(`Cannot serialize value of type ${typeof e} as Bytes`);case O.BytesArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BytesArray`);return e.map(e=>Ft(e,O.Bytes));case O.Boolean:switch(typeof e){case"boolean":return e;case"string":return"true"===e||"1"===e;case"number":return 1===e;default:throw new Error(`Cannot serialize value of type ${typeof e} as Boolean`)}case O.BooleanArray:if(!Array.isArray(e))throw new Error(`Cannot serialize value of type ${typeof e} as BooleanArray`);return e.map(e=>Ft(e,O.Boolean));default:return e}}function Zd(e){switch(e){case O.Int32:return"int";case O.Int64:return"bigint";case O.Float:return"float";case O.Double:return"double";case O.Text:return"string";case O.Enum:return"enum";case O.Bytes:return"bytes";case O.Boolean:return"bool";case O.Character:return"char";case O.Numeric:return"decimal";case O.Json:return"json";case O.Uuid:return"uuid";case O.DateTime:return"datetime";case O.Date:return"date";case O.Time:return"time";case O.Int32Array:return"int-array";case O.Int64Array:return"bigint-array";case O.FloatArray:return"float-array";case O.DoubleArray:return"double-array";case O.TextArray:case O.EnumArray:return"string-array";case O.BytesArray:return"bytes-array";case O.BooleanArray:return"bool-array";case O.CharacterArray:return"char-array";case O.NumericArray:return"decimal-array";case O.JsonArray:return"json-array";case O.UuidArray:return"uuid-array";case O.DateTimeArray:return"datetime-array";case O.DateArray:return"date-array";case O.TimeArray:return"time-array";case O.UnknownNumber:return"unknown";case O.Set:return"string";default:$(e,`Unexpected column type: ${e}`)}}function uc(e,t,r){if(!t.every(t=>To(e,t))){let t=Xd(e,r),n=ef(r);throw new ue(t,n,r.context)}}function To(e,t){switch(t.type){case"rowCountEq":return Array.isArray(e)?e.length===t.args:null===e?0===t.args:1===t.args;case"rowCountNeq":return Array.isArray(e)?e.length!==t.args:null===e?0!==t.args:1!==t.args;case"affectedRowCountEq":return e===t.args;case"never":return!1;default:$(t,`Unknown rule type: ${t.type}`)}}function Xd(e,t){switch(t.error_identifier){case"RELATION_VIOLATION":return`The change you are trying to make would violate the required relation '${t.context.relation}' between the \`${t.context.modelA}\` and \`${t.context.modelB}\` models.`;case"MISSING_RECORD":return`An operation failed because it depends on one or more records that were required but not found. No record was found for ${t.context.operation}.`;case"MISSING_RELATED_RECORD":{let e=t.context.neededFor?` (needed to ${t.context.neededFor})`:"";return`An operation failed because it depends on one or more records that were required but not found. No '${t.context.model}' record${e} was found for ${t.context.operation} on ${t.context.relationType} relation '${t.context.relation}'.`}case"INCOMPLETE_CONNECT_INPUT":return`An operation failed because it depends on one or more records that were required but not found. Expected ${t.context.expectedRows} records to be connected, found only ${Array.isArray(e)?e.length:e}.`;case"INCOMPLETE_CONNECT_OUTPUT":return`The required connected records were not found. Expected ${t.context.expectedRows} records to be connected after connect operation on ${t.context.relationType} relation '${t.context.relation}', found ${Array.isArray(e)?e.length:e}.`;case"RECORDS_NOT_CONNECTED":return`The records for relation \`${t.context.relation}\` between the \`${t.context.parent}\` and \`${t.context.child}\` models are not connected.`;default:$(t,`Unknown error identifier: ${t}`)}}function ef(e){switch(e.error_identifier){case"RELATION_VIOLATION":return"P2014";case"RECORDS_NOT_CONNECTED":return"P2017";case"INCOMPLETE_CONNECT_OUTPUT":return"P2018";case"MISSING_RECORD":case"MISSING_RELATED_RECORD":case"INCOMPLETE_CONNECT_INPUT":return"P2025";default:$(e,`Unknown error identifier: ${e}`)}}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Cr=class e{#e;#t;#r;#n=new Qn;#i;#a;#o;#s;#l;constructor({transactionManager:e,placeholderValues:t,onQuery:r,tracingHelper:n,serializer:i,rawSerializer:a,provider:o,connectionInfo:s}){this.#e=e,this.#t=t,this.#r=r,this.#i=n,this.#a=i,this.#o=a??i,this.#s=o,this.#l=s}static forSql(t){return new e({transactionManager:t.transactionManager,placeholderValues:t.placeholderValues,onQuery:t.onQuery,tracingHelper:t.tracingHelper,serializer:lc,rawSerializer:cc,provider:t.provider,connectionInfo:t.connectionInfo})}async run(e,t){let{value:r}=await this.interpretNode(e,t,this.#t,this.#n.snapshot()).catch(e=>_t(e));return r}async interpretNode(e,t,r,n){switch(e.type){case"value":return{value:Te(e.args,r,n)};case"seq":{let i;for(let a of e.args)i=await this.interpretNode(a,t,r,n);return i??{value:void 0}}case"get":return{value:r[e.args.name]};case"let":{let i=Object.create(r);for(let r of e.args.bindings){let{value:e}=await this.interpretNode(r.expr,t,i,n);i[r.name]=e}return this.interpretNode(e.args.expr,t,i,n)}case"getFirstNonEmpty":for(let t of e.args.names){let e=r[t];if(!pc(e))return{value:e}}return{value:[]};case"concat":{let i=await Promise.all(e.args.map(e=>this.interpretNode(e,t,r,n).then(e=>e.value)));return{value:i.length>0?i.reduce((e,t)=>e.concat(vo(t)),[]):[]}}case"sum":{let i=await Promise.all(e.args.map(e=>this.interpretNode(e,t,r,n).then(e=>e.value)));return{value:i.length>0?i.reduce((e,t)=>De(e)+De(t)):0}}case"execute":{let i=Po(e.args,r,n,this.#c()),a=0;for(let r of i)a+=await this.#u(r,t,()=>t.executeRaw(r).catch(t=>"rawSql"===e.args.type?Ji(t):_t(t)));return{value:a}}case"query":{let i,a=Po(e.args,r,n,this.#c());for(let r of a){let n=await this.#u(r,t,()=>t.queryRaw(r).catch(t=>"rawSql"===e.args.type?Ji(t):_t(t)));void 0===i?i=n:(i.rows.push(...n.rows),i.lastInsertId=n.lastInsertId)}return{value:"rawSql"===e.args.type?this.#o(i):this.#a(i),lastInsertId:i?.lastInsertId}}case"reverse":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args,t,r,n);return{value:Array.isArray(i)?i.reverse():i,lastInsertId:a}}case"unique":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args,t,r,n);if(!Array.isArray(i))return{value:i,lastInsertId:a};if(i.length>1)throw new Error(`Expected zero or one element, got ${i.length}`);return{value:i[0]??null,lastInsertId:a}}case"required":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args,t,r,n);if(pc(i))throw new Error("Required value is empty");return{value:i,lastInsertId:a}}case"mapField":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args.records,t,r,n);return{value:mc(i,e.args.field),lastInsertId:a}}case"join":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args.parent,t,r,n);return null===i?{value:null,lastInsertId:a}:{value:tf(i,await Promise.all(e.args.children.map(async e=>({joinExpr:e,childRecords:(await this.interpretNode(e.child,t,r,n)).value})))),lastInsertId:a}}case"transaction":{if(!this.#e.enabled)return this.interpretNode(e.args,t,r,n);let i=this.#e.manager,a=await i.startTransaction(),o=await i.getTransaction(a,"query");try{let t=await this.interpretNode(e.args,o,r,n);return await i.commitTransaction(a.id),t}catch(e){throw await i.rollbackTransaction(a.id),e}}case"dataMap":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args.expr,t,r,n);return{value:nl(i,e.args.structure,e.args.enums),lastInsertId:a}}case"validate":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args.expr,t,r,n);return uc(i,e.args.rules,e.args),{value:i,lastInsertId:a}}case"if":{let{value:i}=await this.interpretNode(e.args.value,t,r,n);return To(i,e.args.rule)?await this.interpretNode(e.args.then,t,r,n):await this.interpretNode(e.args.else,t,r,n)}case"unit":return{value:void 0};case"diff":{let{value:i}=await this.interpretNode(e.args.from,t,r,n),{value:a}=await this.interpretNode(e.args.to,t,r,n),o=new Set(vo(a).map(e=>JSON.stringify(e)));return{value:vo(i).filter(e=>!o.has(JSON.stringify(e)))}}case"process":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args.expr,t,r,n);return{value:Hn(i,e.args.operations),lastInsertId:a}}case"initializeRecord":{let{lastInsertId:i}=await this.interpretNode(e.args.expr,t,r,n),a={};for(let[t,o]of Object.entries(e.args.fields))a[t]=rf(o,i,r,n);return{value:a,lastInsertId:i}}case"mapRecord":{let{value:i,lastInsertId:a}=await this.interpretNode(e.args.expr,t,r,n),o=null===i?{}:Ao(i);for(let[t,i]of Object.entries(e.args.fields))o[t]=nf(i,o[t],r,n);return{value:o,lastInsertId:a}}default:$(e,`Unexpected node type: ${e.type}`)}}#c(){return void 0!==this.#l?.maxBindValues?this.#l.maxBindValues:this.#d()}#d(){if(void 0!==this.#s)switch(this.#s){case"cockroachdb":case"postgres":case"postgresql":case"prisma+postgres":return 32766;case"mysql":return 65535;case"sqlite":return 999;case"sqlserver":return 2098;case"mongodb":return;default:$(this.#s,`Unexpected provider: ${this.#s}`)}}#u(e,t,r){return Ln({query:e,execute:r,provider:this.#s??t.provider,tracingHelper:this.#i,onQuery:this.#r})}};function pc(e){return Array.isArray(e)?0===e.length:null==e}function vo(e){return Array.isArray(e)?e:[e]}function De(e){if("number"==typeof e)return e;if("string"==typeof e)return Number(e);throw new Error("Expected number, got "+typeof e)}function Ao(e){if("object"==typeof e&&null!==e)return e;throw new Error("Expected object, got "+typeof e)}function mc(e,t){return Array.isArray(e)?e.map(e=>mc(e,t)):"object"==typeof e&&null!==e?e[t]??null:e}function tf(e,t){for(let{joinExpr:r,childRecords:n}of t){let t=r.on.map(([e])=>e),i=r.on.map(([,e])=>e),a={};for(let n of Array.isArray(e)?e:[e]){let e=Ao(n),i=Rr(e,t);a[i]||(a[i]=[]),a[i].push(e),r.isRelationUnique?e[r.parentField]=null:e[r.parentField]=[]}for(let e of Array.isArray(n)?n:[n]){if(null===e)continue;let t=Rr(Ao(e),i);for(let n of a[t]??[])r.isRelationUnique?n[r.parentField]=e:n[r.parentField].push(e)}}return e}function rf(e,t,r,n){switch(e.type){case"value":return Te(e.value,r,n);case"lastInsertId":return t;default:$(e,`Unexpected field initializer type: ${e.type}`)}}function nf(e,t,r,n){switch(e.type){case"set":return Te(e.value,r,n);case"add":return De(t)+De(Te(e.value,r,n));case"subtract":return De(t)-De(Te(e.value,r,n));case"multiply":return De(t)*De(Te(e.value,r,n));case"divide":{let i=De(t),a=De(Te(e.value,r,n));return 0===a?null:i/a}default:$(e,`Unexpected field operation type: ${e.type}`)}}async function of(){return globalThis.crypto??await Promise.resolve().then(()=>(Xe(),Ei))}async function dc(){return(await of()).randomUUID()}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Ee=class extends ue{name="TransactionManagerError";constructor(e,t){super("Transaction API error: "+e,"P2028",t)}},Sr=class extends Ee{constructor(){super("Transaction not found. Transaction ID is invalid, refers to an old closed transaction Prisma doesn't have information about anymore, or was obtained before disconnecting.")}},Gn=class extends Ee{constructor(e){super(`Transaction already closed: A ${e} cannot be executed on a committed transaction.`)}},Jn=class extends Ee{constructor(e){super(`Transaction already closed: A ${e} cannot be executed on a transaction that was rolled back.`)}},Wn=class extends Ee{constructor(){super("Unable to start a transaction in the given time.")}},Kn=class extends Ee{constructor(e,{timeout:t,timeTaken:r}){super(`A ${e} cannot be executed on an expired transaction. The timeout for this transaction was ${t} ms, however ${r} ms passed since the start of the transaction. Consider increasing the interactive transaction timeout or doing less work in the transaction.`,{operation:e,timeout:t,timeTaken:r})}},$t=class extends Ee{constructor(e){super(`Internal Consistency Error: ${e}`)}},zn=class extends Ee{constructor(e){super(`Invalid isolation level: ${e}`,{isolationLevel:e})}},sf=100,Ir=K("prisma:client:transactionManager"),af=()=>({sql:"COMMIT",args:[],argTypes:[]}),lf=()=>({sql:"ROLLBACK",args:[],argTypes:[]}),cf=()=>({sql:'-- Implicit "COMMIT" query via underlying driver',args:[],argTypes:[]}),uf=()=>({sql:'-- Implicit "ROLLBACK" query via underlying driver',args:[],argTypes:[]}),kr=class{transactions=new Map;closedTransactions=[];driverAdapter;transactionOptions;tracingHelper;#e;#t;constructor({driverAdapter:e,transactionOptions:t,tracingHelper:r,onQuery:n,provider:i}){this.driverAdapter=e,this.transactionOptions=t,this.tracingHelper=r,this.#e=n,this.#t=i}async startTransaction(e){return await this.tracingHelper.runInChildSpan("start_transaction",()=>this.#r(e))}async#r(e){let t=void 0!==e?this.#o(e):this.transactionOptions,r={id:await dc(),status:"waiting",timer:void 0,timeout:t.timeout,startedAt:Date.now(),transaction:void 0};this.transactions.set(r.id,r);let n=!1,i=setTimeout(()=>n=!0,t.maxWait);switch(r.transaction=await this.driverAdapter.startTransaction(t.isolationLevel).catch(_t),clearTimeout(i),r.status){case"waiting":if(n)throw await this.#a(r,"timed_out"),new Wn;return r.status="running",r.timer=this.#i(r.id,t.timeout),{id:r.id};case"timed_out":case"running":case"committed":case"rolled_back":throw new $t(`Transaction in invalid state ${r.status} although it just finished startup.`);default:$(r.status,"Unknown transaction status.")}}async commitTransaction(e){return await this.tracingHelper.runInChildSpan("commit_transaction",async()=>{let t=this.#n(e,"commit");await this.#a(t,"committed")})}async rollbackTransaction(e){return await this.tracingHelper.runInChildSpan("rollback_transaction",async()=>{let t=this.#n(e,"rollback");await this.#a(t,"rolled_back")})}async getTransaction(e,t){let r=this.#n(e.id,t);if("closing"===r.status&&(await r.closing,r=this.#n(e.id,t)),!r.transaction)throw new Sr;return r.transaction}#n(e,t){let r=this.transactions.get(e);if(!r){let r=this.closedTransactions.find(t=>t.id===e);if(!r)throw Ir("Transaction not found.",e),new Sr;switch(Ir("Transaction already closed.",{transactionId:e,status:r.status}),r.status){case"closing":case"waiting":case"running":throw new $t("Active transaction found in closed transactions list.");case"committed":throw new Gn(t);case"rolled_back":throw new Jn(t);case"timed_out":throw new Kn(t,{timeout:r.timeout,timeTaken:Date.now()-r.startedAt})}}if(["committed","rolled_back","timed_out"].includes(r.status))throw new $t("Closed transaction found in active transactions map.");return r}async cancelAllTransactions(){await Promise.allSettled([...this.transactions.values()].map(e=>this.#a(e,"rolled_back")))}#i(e,t){let r=Date.now();return setTimeout(async()=>{Ir("Transaction timed out.",{transactionId:e,timeoutStartedAt:r,timeout:t});let n=this.transactions.get(e);n&&["running","waiting"].includes(n.status)?await this.#a(n,"timed_out"):Ir("Transaction already committed or rolled back when timeout happened.",e)},t)}async#a(e,t){"closing"===e.status?(await e.closing,this.#n(e.id,"committed"===t?"commit":"rollback")):await Object.assign(e,{status:"closing",reason:t,closing:(async()=>{Ir("Closing transaction.",{transactionId:e.id,status:t});try{if(e.transaction&&"committed"===t)if(e.transaction.options.usePhantomQuery)await this.#s(cf(),e.transaction,()=>e.transaction.commit());else{let t=af();await this.#s(t,e.transaction,()=>e.transaction.executeRaw(t)),await e.transaction.commit()}else if(e.transaction)if(e.transaction.options.usePhantomQuery)await this.#s(uf(),e.transaction,()=>e.transaction.rollback());else{let t=lf();await this.#s(t,e.transaction,()=>e.transaction.executeRaw(t)),await e.transaction.rollback()}}finally{e.status=t,clearTimeout(e.timer),e.timer=void 0,this.transactions.delete(e.id),this.closedTransactions.push(e),this.closedTransactions.length>sf&&this.closedTransactions.shift()}})()}).closing}#o(e){if(!e.timeout)throw new Ee("timeout is required");if(!e.maxWait)throw new Ee("maxWait is required");if("SNAPSHOT"===e.isolationLevel)throw new zn(e.isolationLevel);return{...e,timeout:e.timeout,maxWait:e.maxWait}}#s(e,t,r){return Ln({query:e,execute:r,provider:this.#t??t.provider,tracingHelper:this.tracingHelper,onQuery:this.#e})}},Yn="6.15.0";c(),u(),p(),m(),d(),l();var Zn=class e{#e;#t;#r;#n;constructor(e,t,r){this.#e=e,this.#t=t,this.#r=r,this.#n=t.getConnectionInfo?.()}static async connect(t){let r,n;try{r=await t.driverAdapterFactory.connect(),n=new kr({driverAdapter:r,transactionOptions:t.transactionOptions,tracingHelper:t.tracingHelper,onQuery:t.onQuery,provider:t.provider})}catch(e){throw await(r?.dispose()),e}return new e(t,r,n)}getConnectionInfo(){let e=this.#n??{supportsRelationJoins:!1};return Promise.resolve({provider:this.#t.provider,connectionInfo:e})}async execute({plan:e,placeholderValues:t,transaction:r,batchIndex:n}){let i=r?await this.#r.getTransaction(r,void 0!==n?"batch query":"query"):this.#t;return await Cr.forSql({transactionManager:r?{enabled:!1}:{enabled:!0,manager:this.#r},placeholderValues:t,onQuery:this.#e.onQuery,tracingHelper:this.#e.tracingHelper,provider:this.#e.provider,connectionInfo:this.#n}).run(e,i)}async startTransaction(e){return{...await this.#r.startTransaction(e),payload:void 0}}async commitTransaction(e){await this.#r.commitTransaction(e.id)}async rollbackTransaction(e){await this.#r.rollbackTransaction(e.id)}async disconnect(){try{await this.#r.cancelAllTransactions()}finally{await this.#t.dispose()}}};c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Xn=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function fc(e,t,r){let n=r||{},i=n.encode||encodeURIComponent;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!Xn.test(e))throw new TypeError("argument name is invalid");let a=i(t);if(a&&!Xn.test(a))throw new TypeError("argument val is invalid");let o=e+"="+a;if(void 0!==n.maxAge&&null!==n.maxAge){let e=n.maxAge-0;if(Number.isNaN(e)||!Number.isFinite(e))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(e)}if(n.domain){if(!Xn.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!Xn.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){if(!mf(n.expires)||Number.isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.priority)switch("string"==typeof n.priority?n.priority.toLowerCase():n.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(o+="; Partitioned"),o}function mf(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function gc(e,t){let r=(e||"").split(";").filter(e=>"string"==typeof e&&!!e.trim()),n=df(r.shift()||""),i=n.name,a=n.value;try{a=!1===t?.decode?a:(t?.decode||decodeURIComponent)(a)}catch{}let o={name:i,value:a};for(let e of r){let t=e.split("="),r=(t.shift()||"").trimStart().toLowerCase(),n=t.join("=");switch(r){case"expires":o.expires=new Date(n);break;case"max-age":o.maxAge=Number.parseInt(n,10);break;case"secure":o.secure=!0;break;case"httponly":o.httpOnly=!0;break;case"samesite":o.sameSite=n;break;default:o[r]=n}}return o}function df(e){let t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}function Vt({inlineDatasources:e,overrideDatasources:t,env:r,clientVersion:n}){let i,a=Object.keys(e)[0],o=e[a]?.url,s=t[a]?.url;if(void 0===a?i=void 0:s?i=s:o?.value?i=o.value:o?.fromEnvVar&&(i=r[o.fromEnvVar]),void 0!==o?.fromEnvVar&&void 0===i)throw"workerd"===Ot().id?new F(`error: Environment variable not found: ${o.fromEnvVar}.\n\nIn Cloudflare module Workers, environment variables are available only in the Worker's \`env\` parameter of \`fetch\`.\nTo solve this, provide the connection string directly: https://pris.ly/d/cloudflare-datasource-url`,n):new F(`error: Environment variable not found: ${o.fromEnvVar}.`,n);if(void 0===i)throw new F("error: Missing URL environment variable, value, or override.",n);return i}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var ei=class extends Error{clientVersion;cause;constructor(e,t){super(e),this.clientVersion=t.clientVersion,this.cause=t.cause}get[Symbol.toStringTag](){return this.name}},ge=class extends ei{isRetryable;constructor(e,t){super(e,t),this.isRetryable=t.isRetryable??!0}};function N(e,t){return{...e,isRetryable:t}}c(),u(),p(),m(),d(),l();var st=class extends ge{name="InvalidDatasourceError";code="P6001";constructor(e,t){super(e,N(t,!1))}};function ti(e){let t,r={clientVersion:e.clientVersion},n=Object.keys(e.inlineDatasources)[0],i=Vt({inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources,clientVersion:e.clientVersion,env:{...e.env,...typeof g<"u"?g.env:{}}});try{t=new URL(i)}catch{throw new st(`Error validating datasource \`${n}\`: the URL must start with the protocol \`prisma://\``,r)}let{protocol:a,searchParams:o}=t;if("prisma:"!==a&&a!==ln)throw new st(`Error validating datasource \`${n}\`: the URL must start with the protocol \`prisma://\` or \`prisma+postgres://\``,r);let s=o.get("api_key");if(null===s||s.length<1)throw new st(`Error validating datasource \`${n}\`: the URL must contain a valid API key`,r);let l=Pi(t)?"http:":"https:";return{apiKey:s,url:new URL(t.href.replace(a,l))}}D(st,"InvalidDatasourceError"),c(),u(),p(),m(),d(),l();var yc=Ae(Ts()),qt=class{apiKey;tracingHelper;logLevel;logQueries;engineHash;constructor({apiKey:e,tracingHelper:t,logLevel:r,logQueries:n,engineHash:i}){this.apiKey=e,this.tracingHelper=t,this.logLevel=r,this.logQueries=n,this.engineHash=i}build({traceparent:e,transactionId:t}={}){let r={Accept:"application/json",Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json","Prisma-Engine-Hash":this.engineHash,"Prisma-Engine-Version":yc.enginesVersion};this.tracingHelper.isEnabled()&&(r.traceparent=e??this.tracingHelper.getTraceParent()),t&&(r["X-Transaction-Id"]=t);let n=this.#e();return n.length>0&&(r["X-Capture-Telemetry"]=n.join(", ")),r}#e(){let e=[];return this.tracingHelper.isEnabled()&&e.push("tracing"),this.logLevel&&e.push(this.logLevel),this.logQueries&&e.push("query"),e}};function ff(e){return 1e3*e[0]+e[1]/1e6}function Bt(e){return new Date(ff(e))}c(),u(),p(),m(),d(),l();var hc=K("prisma:client:clientEngine:remoteExecutor"),ri=class{#e;#t;#r;#n;#i;constructor(e){this.#e=e.clientVersion,this.#n=e.logEmitter,this.#i=e.tracingHelper;let{url:t,apiKey:r}=ti({clientVersion:e.clientVersion,env:e.env,inlineDatasources:e.inlineDatasources,overrideDatasources:e.overrideDatasources});this.#r=new Ro(t),this.#t=new qt({apiKey:r,engineHash:e.clientVersion,logLevel:e.logLevel,logQueries:e.logQueries,tracingHelper:e.tracingHelper})}async getConnectionInfo(){return await this.#a({path:"/connection-info",method:"GET"})}async execute({plan:e,placeholderValues:t,batchIndex:r,model:n,operation:i,transaction:a,customFetch:o}){return(await this.#a({path:a?`/transaction/${a.id}/query`:"/query",method:"POST",body:{model:n,operation:i,plan:e,params:t},batchRequestIdx:r,fetch:o})).data}async startTransaction(e){return{...await this.#a({path:"/transaction/start",method:"POST",body:e}),payload:void 0}}async commitTransaction(e){await this.#a({path:`/transaction/${e.id}/commit`,method:"POST"})}async rollbackTransaction(e){await this.#a({path:`/transaction/${e.id}/rollback`,method:"POST"})}disconnect(){return Promise.resolve()}async#a({path:e,method:t,body:r,fetch:n=globalThis.fetch,batchRequestIdx:i}){let a=await this.#r.request({method:t,path:e,headers:this.#t.build(),body:r,fetch:n});a.ok||await this.#o(a,i);let o=await a.json();return"object"==typeof o.extensions&&null!==o.extensions&&this.#s(o.extensions),o}async#o(e,t){let r,n=e.headers.get("Prisma-Error-Code"),i=await e.text(),a=i;try{r=JSON.parse(i)}catch{r={}}"string"==typeof r.code&&(n=r.code),"string"==typeof r.error?a=r.error:"string"==typeof r.message?a=r.message:"object"==typeof r.InvalidRequestError&&null!==r.InvalidRequestError&&"string"==typeof r.InvalidRequestError.reason&&(a=r.InvalidRequestError.reason),a=a||`HTTP ${e.status}: ${e.statusText}`;let o="object"==typeof r.meta&&null!==r.meta?r.meta:r;throw new X(a,{clientVersion:this.#e,code:n??"P6000",batchRequestIdx:t,meta:o})}#s(e){if(e.logs)for(let t of e.logs)this.#l(t);e.traces&&this.#i.dispatchEngineSpans(e.traces)}#l(e){switch(e.level){case"debug":case"trace":hc(e);break;case"error":case"warn":case"info":this.#n.emit(e.level,{timestamp:Bt(e.timestamp),message:e.attributes.message??"",target:e.target});break;case"query":this.#n.emit("query",{query:e.attributes.query??"",timestamp:Bt(e.timestamp),duration:e.attributes.duration_ms??0,params:e.attributes.params??"",target:e.target});break;default:throw new Error(`Unexpected log level: ${e.level}`)}}},Ro=class{#e;#t;#r;constructor(e){this.#e=e,this.#t=new Map}async request({method:e,path:t,headers:r,body:n,fetch:i}){let a=new URL(t,this.#e),o=this.#n(a);o&&(r.Cookie=o),this.#r&&(r["Accelerate-Query-Engine-Jwt"]=this.#r);let s=await i(a.href,{method:e,body:void 0!==n?JSON.stringify(n):void 0,headers:r});return hc(e,a,s.status,s.statusText),this.#r=s.headers.get("Accelerate-Query-Engine-Jwt")??void 0,this.#i(a,s),s}#n(e){let t=[],r=new Date;for(let[n,i]of this.#t){if(i.expires&&i.expires<r){this.#t.delete(n);continue}let a=i.domain??e.hostname,o=i.path??"/";e.hostname.endsWith(a)&&e.pathname.startsWith(o)&&t.push(fc(i.name,i.value))}return t.length>0?t.join("; "):void 0}#i(e,t){let r=t.headers.getSetCookie?.()||[];if(0===r.length){let e=t.headers.get("Set-Cookie");e&&r.push(e)}for(let t of r){let r=gc(t),n=r.domain??e.hostname,i=r.path??"/",a=`${n}:${i}:${r.name}`;this.#t.set(a,{name:r.name,value:r.value,domain:n,path:i,expires:r.expires})}}};c(),u(),p(),m(),d(),l();var Co,wc={async loadQueryCompiler(e){let{clientVersion:t,compilerWasm:r}=e;if(void 0===r)throw new F("WASM query compiler was unexpectedly `undefined`",t);return void 0===Co&&(Co=(async()=>{let e=await r.getRuntime(),n=await r.getQueryCompilerWasmModule();if(null==n)throw new F("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",t);let i={"./query_compiler_bg.js":e},a=new WebAssembly.Instance(n,i),o=a.exports.__wbindgen_start;return e.__wbg_set_wasm(a.exports),o(),e.QueryCompiler})()),await Co}},bc="P2038",Or=K("prisma:client:clientEngine"),xc=globalThis;xc.PRISMA_WASM_PANIC_REGISTRY={set_message(e){throw new le(e,Yn)}};var Dr=class{name="ClientEngine";#e;#t={type:"disconnected"};#r;#n;config;datamodel;logEmitter;logQueries;logLevel;tracingHelper;#i;constructor(e,t,r){if(!e.previewFeatures?.includes("driverAdapters")&&!t)throw new F("EngineType `client` requires the driverAdapters preview feature to be enabled.",e.clientVersion,bc);if(t)this.#n={remote:!0};else{if(!e.adapter)throw new F("Missing configured driver adapter. Engine type `client` requires an active driver adapter. Please check your PrismaClient initialization code.",e.clientVersion,bc);this.#n={remote:!1,driverAdapterFactory:e.adapter},Or("Using driver adapter: %O",e.adapter)}this.#r=r??wc,this.config=e,this.logQueries=e.logQueries??!1,this.logLevel=e.logLevel??"error",this.logEmitter=e.logEmitter,this.datamodel=e.inlineSchema,this.tracingHelper=e.tracingHelper,e.enableDebugLogs&&(this.logLevel="debug"),this.logQueries&&(this.#i=e=>{this.logEmitter.emit("query",{...e,params:wr(e.params),target:"ClientEngine"})})}applyPendingMigrations(){throw new Error("Cannot call applyPendingMigrations on engine type client.")}async#a(){switch(this.#t.type){case"disconnected":{let e=this.tracingHelper.runInChildSpan("connect",async()=>{let e,t;try{e=await this.#o(),t=await this.#s(e)}catch(r){throw this.#t={type:"disconnected"},t?.free(),await(e?.disconnect()),r}let r={executor:e,queryCompiler:t};return this.#t={type:"connected",engine:r},r});return this.#t={type:"connecting",promise:e},await e}case"connecting":return await this.#t.promise;case"connected":return this.#t.engine;case"disconnecting":return await this.#t.promise,await this.#a()}}async#o(){return this.#n.remote?new ri({clientVersion:this.config.clientVersion,env:this.config.env,inlineDatasources:this.config.inlineDatasources,logEmitter:this.logEmitter,logLevel:this.logLevel,logQueries:this.logQueries,overrideDatasources:this.config.overrideDatasources,tracingHelper:this.tracingHelper}):await Zn.connect({driverAdapterFactory:this.#n.driverAdapterFactory,tracingHelper:this.tracingHelper,transactionOptions:{...this.config.transactionOptions,isolationLevel:this.#h(this.config.transactionOptions.isolationLevel)},onQuery:this.#i,provider:this.config.activeProvider})}async#s(e){let t=this.#e;void 0===t&&(t=await this.#r.loadQueryCompiler(this.config),this.#e=t);let{provider:r,connectionInfo:n}=await e.getConnectionInfo();try{return this.#u(()=>new t({datamodel:this.datamodel,provider:r,connectionInfo:n}),void 0,!1)}catch(e){throw this.#l(e)}}#l(e){if(e instanceof le)return e;try{let t=JSON.parse(e.message);return new F(t.message,this.config.clientVersion,t.error_code)}catch{return e}}#c(e,t){if(e instanceof F)return e;if("GenericFailure"===e.code&&e.message?.startsWith("PANIC:"))return new le(Ec(this,e.message,t),this.config.clientVersion);if(e instanceof ue)return new X(e.message,{code:e.code,meta:e.meta,clientVersion:this.config.clientVersion});try{let t=JSON.parse(e);return new ne(`${t.message}\n${t.backtrace}`,{clientVersion:this.config.clientVersion})}catch{return e}}#d(e){return e instanceof le?e:"string"==typeof e.message&&"string"==typeof e.code?new X(e.message,{code:e.code,meta:e.meta,clientVersion:this.config.clientVersion}):"string"==typeof e.message?new ne(e.message,{clientVersion:this.config.clientVersion}):e}#u(e,t,r=!0){let n,i=xc.PRISMA_WASM_PANIC_REGISTRY.set_message;globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=e=>{n=e};try{return e()}finally{if(globalThis.PRISMA_WASM_PANIC_REGISTRY.set_message=i,n)throw this.#e=void 0,r&&this.stop().catch(e=>Or("failed to disconnect:",e)),new le(Ec(this,n,t),this.config.clientVersion)}}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the client engine, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){await this.#a()}async stop(){switch(this.#t.type){case"disconnected":return;case"connecting":return await this.#t.promise,await this.stop();case"connected":{let e=this.#t.engine,t=this.tracingHelper.runInChildSpan("disconnect",async()=>{try{await e.executor.disconnect(),e.queryCompiler.free()}finally{this.#t={type:"disconnected"}}});return this.#t={type:"disconnecting",promise:t},await t}case"disconnecting":return await this.#t.promise}}version(){return"unknown"}async transaction(e,t,r){let n,{executor:i}=await this.#a();try{if("start"===e){let e=r;n=await i.startTransaction({...e,isolationLevel:this.#h(e.isolationLevel)})}else if("commit"===e){let e=r;await i.commitTransaction(e)}else if("rollback"===e){let e=r;await i.rollbackTransaction(e)}else Ne(e,"Invalid transaction action.")}catch(e){throw this.#c(e)}return n?{id:n.id,payload:void 0}:void 0}async request(e,{interactiveTransaction:t,customDataProxyFetch:r}){Or("sending request");let n,i=JSON.stringify(e),{executor:a,queryCompiler:o}=await this.#a().catch(e=>{throw this.#c(e,i)});try{n=this.#u(()=>o.compile(i),i)}catch(e){throw this.#d(e)}try{Or("query plan created",n);let i={},o=await a.execute({plan:n,model:e.modelName,operation:e.action,placeholderValues:i,transaction:t,batchIndex:void 0,customFetch:r?.(globalThis.fetch)});return Or("query plan executed"),{data:{[e.action]:o}}}catch(e){throw this.#c(e,i)}}async requestBatch(e,{transaction:t,customDataProxyFetch:r}){if(0===e.length)return[];let n,i=e[0].action,a=JSON.stringify(It(e,t)),{executor:o,queryCompiler:s}=await this.#a().catch(e=>{throw this.#c(e,a)});try{n=s.compileBatch(a)}catch(e){throw this.#d(e)}try{let a;"itx"===t?.kind&&(a=t.options);let s={};switch(n.type){case"multi":{if("itx"!==t?.kind){let e=t?.options.isolationLevel?{...this.config.transactionOptions,isolationLevel:t.options.isolationLevel}:this.config.transactionOptions;a=await this.transaction("start",{},e)}let i=[],l=!1;for(let[t,c]of n.plans.entries())try{let n=await o.execute({plan:c,placeholderValues:s,model:e[t].modelName,operation:e[t].action,batchIndex:t,transaction:a,customFetch:r?.(globalThis.fetch)});i.push({data:{[e[t].action]:n}})}catch(e){i.push(e),l=!0;break}return void 0!==a&&"itx"!==t?.kind&&(l?await this.transaction("rollback",{},a):await this.transaction("commit",{},a)),i}case"compacted":if(!e.every(e=>e.action===i))throw new Error("All queries in a batch must have the same action");return tl(await o.execute({plan:n.plan,placeholderValues:s,model:e[0].modelName,operation:i,batchIndex:void 0,transaction:a,customFetch:r?.(globalThis.fetch)}),n).map(e=>({data:{[i]:e}}))}}catch(e){throw this.#c(e,a)}}metrics(e){throw new Error("Method not implemented.")}#h(e){switch(e){case void 0:return;case"ReadUncommitted":return"READ UNCOMMITTED";case"ReadCommitted":return"READ COMMITTED";case"RepeatableRead":return"REPEATABLE READ";case"Serializable":return"SERIALIZABLE";case"Snapshot":return"SNAPSHOT";default:throw new X(`Inconsistent column data: Conversion failed: Invalid isolation level \`${e}\``,{code:"P2023",clientVersion:this.config.clientVersion,meta:{providedIsolationLevel:e}})}}};function Ec(e,t,r){return Wa({binaryTarget:void 0,title:t,version:e.config.clientVersion,engineVersion:"unknown",database:e.config.activeProvider,query:r})}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var jt=class extends ge{name="ForcedRetryError";code="P5001";constructor(e){super("This request must be retried",N(e,!0))}};D(jt,"ForcedRetryError"),c(),u(),p(),m(),d(),l();var at=class extends ge{name="NotImplementedYetError";code="P5004";constructor(e,t){super(e,N(t,!1))}};D(at,"NotImplementedYetError"),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Q=class extends ge{response;constructor(e,t){super(e,t),this.response=t.response;let r=this.response.headers.get("prisma-request-id");if(r){let e=`(The request id was: ${r})`;this.message=this.message+" "+e}}},lt=class extends Q{name="SchemaMissingError";code="P5005";constructor(e){super("Schema needs to be uploaded",N(e,!0))}};D(lt,"SchemaMissingError"),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var So="This request could not be understood by the server",_r=class extends Q{name="BadRequestError";code="P5000";constructor(e,t,r){super(t||So,N(e,!1)),r&&(this.code=r)}};D(_r,"BadRequestError"),c(),u(),p(),m(),d(),l();var Mr=class extends Q{name="HealthcheckTimeoutError";code="P5013";logs;constructor(e,t){super("Engine not started: healthcheck timeout",N(e,!0)),this.logs=t}};D(Mr,"HealthcheckTimeoutError"),c(),u(),p(),m(),d(),l();var Nr=class extends Q{name="EngineStartupError";code="P5014";logs;constructor(e,t,r){super(t,N(e,!0)),this.logs=r}};D(Nr,"EngineStartupError"),c(),u(),p(),m(),d(),l();var Lr=class extends Q{name="EngineVersionNotSupportedError";code="P5012";constructor(e){super("Engine version is not supported",N(e,!1))}};D(Lr,"EngineVersionNotSupportedError"),c(),u(),p(),m(),d(),l();var Io="Request timed out",Ur=class extends Q{name="GatewayTimeoutError";code="P5009";constructor(e,t=Io){super(t,N(e,!1))}};D(Ur,"GatewayTimeoutError"),c(),u(),p(),m(),d(),l();var gf="Interactive transaction error",Fr=class extends Q{name="InteractiveTransactionError";code="P5015";constructor(e,t=gf){super(t,N(e,!1))}};D(Fr,"InteractiveTransactionError"),c(),u(),p(),m(),d(),l();var yf="Request parameters are invalid",$r=class extends Q{name="InvalidRequestError";code="P5011";constructor(e,t=yf){super(t,N(e,!1))}};D($r,"InvalidRequestError"),c(),u(),p(),m(),d(),l();var ko="Requested resource does not exist",Vr=class extends Q{name="NotFoundError";code="P5003";constructor(e,t=ko){super(t,N(e,!1))}};D(Vr,"NotFoundError"),c(),u(),p(),m(),d(),l();var Oo="Unknown server error",Qt=class extends Q{name="ServerError";code="P5006";logs;constructor(e,t,r){super(t||Oo,N(e,!0)),this.logs=r}};D(Qt,"ServerError"),c(),u(),p(),m(),d(),l();var Do="Unauthorized, check your connection string",qr=class extends Q{name="UnauthorizedError";code="P5007";constructor(e,t=Do){super(t,N(e,!1))}};D(qr,"UnauthorizedError"),c(),u(),p(),m(),d(),l();var _o="Usage exceeded, retry again later",Br=class extends Q{name="UsageExceededError";code="P5008";constructor(e,t=_o){super(t,N(e,!0))}};async function hf(e){let t;try{t=await e.text()}catch{return{type:"EmptyError"}}try{let e=JSON.parse(t);if("string"==typeof e)return"InternalDataProxyError"===e?{type:"DataProxyError",body:e}:{type:"UnknownTextError",body:e};if("object"==typeof e&&null!==e){if("is_panic"in e&&"message"in e&&"error_code"in e)return{type:"QueryEngineError",body:e};if("EngineNotStarted"in e||"InteractiveTransactionMisrouted"in e||"InvalidRequestError"in e){let t=Object.values(e)[0].reason;return"string"!=typeof t||["SchemaMissing","EngineVersionNotSupported"].includes(t)?{type:"DataProxyError",body:e}:{type:"UnknownJsonError",body:e}}}return{type:"UnknownJsonError",body:e}}catch{return""===t?{type:"EmptyError"}:{type:"UnknownTextError",body:t}}}async function jr(e,t){if(e.ok)return;let r={clientVersion:t,response:e},n=await hf(e);if("QueryEngineError"===n.type)throw new X(n.body.message,{code:n.body.error_code,clientVersion:t});if("DataProxyError"===n.type){if("InternalDataProxyError"===n.body)throw new Qt(r,"Internal Data Proxy error");if("EngineNotStarted"in n.body){if("SchemaMissing"===n.body.EngineNotStarted.reason)return new lt(r);if("EngineVersionNotSupported"===n.body.EngineNotStarted.reason)throw new Lr(r);if("EngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,logs:t}=n.body.EngineNotStarted.reason.EngineStartupError;throw new Nr(r,e,t)}if("KnownEngineStartupError"in n.body.EngineNotStarted.reason){let{msg:e,error_code:r}=n.body.EngineNotStarted.reason.KnownEngineStartupError;throw new F(e,t,r)}if("HealthcheckTimeout"in n.body.EngineNotStarted.reason){let{logs:e}=n.body.EngineNotStarted.reason.HealthcheckTimeout;throw new Mr(r,e)}}if("InteractiveTransactionMisrouted"in n.body)throw new Fr(r,{IDParseError:"Could not parse interactive transaction ID",NoQueryEngineFoundError:"Could not find Query Engine for the specified host and transaction ID",TransactionStartError:"Could not start interactive transaction"}[n.body.InteractiveTransactionMisrouted.reason]);if("InvalidRequestError"in n.body)throw new $r(r,n.body.InvalidRequestError.reason)}if(401===e.status||403===e.status)throw new qr(r,Ht(Do,n));if(404===e.status)return new Vr(r,Ht(ko,n));if(429===e.status)throw new Br(r,Ht(_o,n));if(504===e.status)throw new Ur(r,Ht(Io,n));if(e.status>=500)throw new Qt(r,Ht(Oo,n));if(e.status>=400)throw new _r(r,Ht(So,n))}function Ht(e,t){return"EmptyError"===t.type?e:`${e}: ${JSON.stringify(t)}`}function Pc(e){let t=50*Math.pow(2,e),r=t+(Math.ceil(Math.random()*t)-Math.ceil(t/2));return new Promise(e=>setTimeout(()=>e(r),r))}D(Br,"UsageExceededError"),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Tc(e){let t,r,n,i,a,o=(new TextEncoder).encode(e),s="",l=o.byteLength,c=l%3,u=l-c;for(let e=0;e<u;e+=3)a=o[e]<<16|o[e+1]<<8|o[e+2],t=(16515072&a)>>18,r=(258048&a)>>12,n=(4032&a)>>6,i=63&a,s+=$e[t]+$e[r]+$e[n]+$e[i];return 1==c?(a=o[u],t=(252&a)>>2,r=(3&a)<<4,s+=$e[t]+$e[r]+"=="):2==c&&(a=o[u]<<8|o[u+1],t=(64512&a)>>10,r=(1008&a)>>4,n=(15&a)<<2,s+=$e[t]+$e[r]+$e[n]+"="),s}function vc(e){if(e.generator?.previewFeatures.some(e=>e.toLowerCase().includes("metrics")))throw new F("The `metrics` preview feature is not yet available with Accelerate.\nPlease remove `metrics` from the `previewFeatures` in your schema.\n\nMore information about Accelerate: https://pris.ly/d/accelerate",e.clientVersion)}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Ac={"@prisma/debug":"workspace:*","@prisma/engines-version":"6.15.0-5.85179d7826409ee107a6ba334b5e305ae3fba9fb","@prisma/fetch-engine":"workspace:*","@prisma/get-platform":"workspace:*"};c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Qr=class extends ge{name="RequestError";code="P5010";constructor(e,t){super(`Cannot fetch data from service:\n${e}`,N(t,!0))}};async function ct(e,t,r=e=>e){let{clientVersion:n,...i}=t,a=r(fetch);try{return await a(e,i)}catch(e){let t=e.message??"Unknown error";throw new Qr(t,{clientVersion:n,cause:e})}}D(Qr,"RequestError");var bf=/^[1-9][0-9]*\.[0-9]+\.[0-9]+$/,Rc=K("prisma:client:dataproxyEngine");async function Ef(e,t){let r=Ac["@prisma/engines-version"],n=t.clientVersion??"unknown";if(g.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION)return g.env.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION||globalThis.PRISMA_CLIENT_DATA_PROXY_CLIENT_VERSION;if(e.includes("accelerate")&&"0.0.0"!==n&&"in-memory"!==n)return n;let[i,a]=n?.split("-")??[];if(void 0===a&&bf.test(i))return i;if(void 0!==a||"0.0.0"===n||"in-memory"===n){let[e]=r.split("-")??[],[t,i,a]=e.split("."),o=xf(`<=${t}.${i}.${a}`),s=await ct(o,{clientVersion:n});if(!s.ok)throw new Error(`Failed to fetch stable Prisma version, unpkg.com status ${s.status} ${s.statusText}, response body: ${await s.text()||"<empty body>"}`);let l,c=await s.text();Rc("length of body fetched from unpkg.com",c.length);try{l=JSON.parse(c)}catch(e){throw console.error("JSON.parse error: body fetched from unpkg.com: ",c),e}return l.version}throw new at("Only `major.minor.patch` versions are supported by Accelerate.",{clientVersion:n})}async function Cc(e,t){let r=await Ef(e,t);return Rc("version",r),r}function xf(e){return encodeURI(`https://unpkg.com/prisma@${e}/package.json`)}var Sc=3,Hr=K("prisma:client:dataproxyEngine"),Gr=class{name="DataProxyEngine";inlineSchema;inlineSchemaHash;inlineDatasources;config;logEmitter;env;clientVersion;engineHash;tracingHelper;remoteClientVersion;host;headerBuilder;startPromise;protocol;constructor(e){vc(e),this.config=e,this.env=e.env,this.inlineSchema=Tc(e.inlineSchema),this.inlineDatasources=e.inlineDatasources,this.inlineSchemaHash=e.inlineSchemaHash,this.clientVersion=e.clientVersion,this.engineHash=e.engineVersion,this.logEmitter=e.logEmitter,this.tracingHelper=e.tracingHelper}apiKey(){return this.headerBuilder.apiKey}version(){return this.engineHash}async start(){void 0!==this.startPromise&&await this.startPromise,this.startPromise=(async()=>{let{apiKey:e,url:t}=this.getURLAndAPIKey();this.host=t.host,this.protocol=t.protocol,this.headerBuilder=new qt({apiKey:e,tracingHelper:this.tracingHelper,logLevel:this.config.logLevel??"error",logQueries:this.config.logQueries,engineHash:this.engineHash}),this.remoteClientVersion=await Cc(this.host,this.config),Hr("host",this.host),Hr("protocol",this.protocol)})(),await this.startPromise}async stop(){}propagateResponseExtensions(e){e?.logs?.length&&e.logs.forEach(e=>{switch(e.level){case"debug":case"trace":Hr(e);break;case"error":case"warn":case"info":this.logEmitter.emit(e.level,{timestamp:Bt(e.timestamp),message:e.attributes.message??"",target:e.target});break;case"query":this.logEmitter.emit("query",{query:e.attributes.query??"",timestamp:Bt(e.timestamp),duration:e.attributes.duration_ms??0,params:e.attributes.params??"",target:e.target});break;default:e.level}}),e?.traces?.length&&this.tracingHelper.dispatchEngineSpans(e.traces)}onBeforeExit(){throw new Error('"beforeExit" hook is not applicable to the remote query engine')}async url(e){return await this.start(),`${this.protocol}//${this.host}/${this.remoteClientVersion}/${this.inlineSchemaHash}/${e}`}async uploadSchema(){return this.tracingHelper.runInChildSpan({name:"schemaUpload",internal:!0},async()=>{let e=await ct(await this.url("schema"),{method:"PUT",headers:this.headerBuilder.build(),body:this.inlineSchema,clientVersion:this.clientVersion});e.ok||Hr("schema response status",e.status);let t=await jr(e,this.clientVersion);if(t)throw this.logEmitter.emit("warn",{message:`Error while uploading schema: ${t.message}`,timestamp:new Date,target:""}),t;this.logEmitter.emit("info",{message:`Schema (re)uploaded (hash: ${this.inlineSchemaHash})`,timestamp:new Date,target:""})})}request(e,{traceparent:t,interactiveTransaction:r,customDataProxyFetch:n}){return this.requestInternal({body:e,traceparent:t,interactiveTransaction:r,customDataProxyFetch:n})}async requestBatch(e,{traceparent:t,transaction:r,customDataProxyFetch:n}){let i="itx"===r?.kind?r.options:void 0,a=It(e,r);return(await this.requestInternal({body:a,customDataProxyFetch:n,interactiveTransaction:i,traceparent:t})).map(e=>(e.extensions&&this.propagateResponseExtensions(e.extensions),"errors"in e?this.convertProtocolErrorsToClientError(e.errors):e))}requestInternal({body:e,traceparent:t,customDataProxyFetch:r,interactiveTransaction:n}){return this.withRetry({actionGerund:"querying",callback:async({logHttpCall:i})=>{let a=n?`${n.payload.endpoint}/graphql`:await this.url("graphql");i(a);let o=await ct(a,{method:"POST",headers:this.headerBuilder.build({traceparent:t,transactionId:n?.id}),body:JSON.stringify(e),clientVersion:this.clientVersion},r);o.ok||Hr("graphql response status",o.status),await this.handleError(await jr(o,this.clientVersion));let s=await o.json();if(s.extensions&&this.propagateResponseExtensions(s.extensions),"errors"in s)throw this.convertProtocolErrorsToClientError(s.errors);return"batchResult"in s?s.batchResult:s}})}async transaction(e,t,r){return this.withRetry({actionGerund:`${{start:"starting",commit:"committing",rollback:"rolling back"}[e]} transaction`,callback:async({logHttpCall:n})=>{if("start"===e){let e=JSON.stringify({max_wait:r.maxWait,timeout:r.timeout,isolation_level:r.isolationLevel}),i=await this.url("transaction/start");n(i);let a=await ct(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),body:e,clientVersion:this.clientVersion});await this.handleError(await jr(a,this.clientVersion));let o=await a.json(),{extensions:s}=o;return s&&this.propagateResponseExtensions(s),{id:o.id,payload:{endpoint:o["data-proxy"].endpoint}}}{let i=`${r.payload.endpoint}/${e}`;n(i);let a=await ct(i,{method:"POST",headers:this.headerBuilder.build({traceparent:t.traceparent}),clientVersion:this.clientVersion});await this.handleError(await jr(a,this.clientVersion));let o=await a.json(),{extensions:s}=o;return void(s&&this.propagateResponseExtensions(s))}}})}getURLAndAPIKey(){return ti({clientVersion:this.clientVersion,env:this.env,inlineDatasources:this.inlineDatasources,overrideDatasources:this.config.overrideDatasources})}metrics(){throw new at("Metrics are not yet supported for Accelerate",{clientVersion:this.clientVersion})}async withRetry(e){for(let t=0;;t++){let r=e=>{this.logEmitter.emit("info",{message:`Calling ${e} (n=${t})`,timestamp:new Date,target:""})};try{return await e.callback({logHttpCall:r})}catch(r){if(!(r instanceof ge&&r.isRetryable))throw r;if(t>=Sc)throw r instanceof jt?r.cause:r;this.logEmitter.emit("warn",{message:`Attempt ${t+1}/${Sc} failed for ${e.actionGerund}: ${r.message??"(unknown)"}`,timestamp:new Date,target:""});let n=await Pc(t);this.logEmitter.emit("warn",{message:`Retrying after ${n}ms`,timestamp:new Date,target:""})}}}async handleError(e){if(e instanceof lt)throw await this.uploadSchema(),new jt({clientVersion:this.clientVersion,cause:e});if(e)throw e}convertProtocolErrorsToClientError(e){return 1===e.length?_n(e[0],this.config.clientVersion,this.config.activeProvider):new ne(JSON.stringify(e),{clientVersion:this.config.clientVersion})}applyPendingMigrations(){throw new Error("Method not implemented.")}};function Ic({url:e,adapter:t,copyEngine:r,targetBuildType:n}){let i=[],a=[],o=e=>{let t=e.join("\n");a.push({_tag:"error",value:t})},s=!!e?.startsWith("prisma://"),l=cn(e),c=!!t,u=s||l;var d;!c&&r&&u&&(d=["recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"],i.push({_tag:"warning",value:d}));let h=u||!r;c&&(h||"edge"===n)&&("edge"===n?o(["Prisma Client was configured to use the `adapter` option but it was imported via its `/edge` endpoint.","Please either remove the `/edge` endpoint or remove the `adapter` from the Prisma Client constructor."]):r?s&&o(["Prisma Client was configured to use the `adapter` option but the URL was a `prisma://` URL.","Please either use the `prisma://` URL or remove the `adapter` from the Prisma Client constructor."]):o(["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]));let p={accelerate:h,ppg:l,driverAdapters:c};return function(e){return e.length>0}(a)?{ok:!1,diagnostics:{warnings:i,errors:a},isUsing:p}:{ok:!0,diagnostics:{warnings:i},isUsing:p}}function kc({copyEngine:e=!0},t){let r;try{r=Vt({inlineDatasources:t.inlineDatasources,overrideDatasources:t.overrideDatasources,env:{...t.env,...g.env},clientVersion:t.clientVersion})}catch{}let{ok:n,isUsing:i,diagnostics:a}=Ic({url:r,adapter:t.adapter,copyEngine:e,targetBuildType:"wasm-compiler-edge"});for(let e of a.warnings)tr(...e.value);if(!n){let e=a.errors[0];throw new ie(e.value,{clientVersion:t.clientVersion})}let o="client"===gt(t.generator),s=(i.accelerate||i.ppg)&&!i.driverAdapters;if(o)return new Dr(t,s);if(i.accelerate)return new Gr(t);i.driverAdapters,i.accelerate;{let e=[`PrismaClient failed to initialize because it wasn't configured to run in this environment (${Ot().prettyName}).`,"In order to run Prisma Client in an edge runtime, you will need to configure one of the following options:","- Enable Driver Adapters: https://pris.ly/d/driver-adapters","- Enable Accelerate: https://pris.ly/d/accelerate"];throw new ie(e.join("\n"),{clientVersion:t.clientVersion})}}function ni({generator:e}){return e?.previewFeatures??[]}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Oc=e=>({command:e});c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Dc=e=>e.strings.reduce((e,t,r)=>`${e}@P${r}${t}`);function Gt(e){try{return _c(e,"fast")}catch{return _c(e,"slow")}}function _c(e,t){return JSON.stringify(e.map(e=>Nc(e,t)))}function Nc(e,t){if(Array.isArray(e))return e.map(e=>Nc(e,t));if("bigint"==typeof e)return{prisma__type:"bigint",prisma__value:e.toString()};if(ht(e))return{prisma__type:"date",prisma__value:e.toJSON()};if(ae.isDecimal(e))return{prisma__type:"decimal",prisma__value:e.toJSON()};if(y.isBuffer(e))return{prisma__type:"bytes",prisma__value:e.toString("base64")};if(Pf(e))return{prisma__type:"bytes",prisma__value:y.from(e).toString("base64")};if(ArrayBuffer.isView(e)){let{buffer:t,byteOffset:r,byteLength:n}=e;return{prisma__type:"bytes",prisma__value:y.from(t,r,n).toString("base64")}}return"object"==typeof e&&"slow"===t?Lc(e):e}function Pf(e){return e instanceof ArrayBuffer||e instanceof SharedArrayBuffer||"object"==typeof e&&null!==e&&("ArrayBuffer"===e[Symbol.toStringTag]||"SharedArrayBuffer"===e[Symbol.toStringTag])}function Lc(e){if("object"!=typeof e||null===e)return e;if("function"==typeof e.toJSON)return e.toJSON();if(Array.isArray(e))return e.map(Mc);let t={};for(let r of Object.keys(e))t[r]=Mc(e[r]);return t}function Mc(e){return"bigint"==typeof e?e.toString():Lc(e)}c(),u(),p(),m(),d(),l(),l();var Tf=/^(\s*alter\s)/i,Uc=K("prisma:client");function Mo(e,t,r,n){if(("postgresql"===e||"cockroachdb"===e)&&r.length>0&&Tf.exec(t))throw new Error(`Running ALTER using ${n} is not supported\nUsing the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.\n\nExample:\n  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)\n\nMore Information: https://pris.ly/d/execute-raw\n`)}var No=({clientMethod:e,activeProvider:t})=>r=>{let n,i="";if(In(r))i=r.sql,n={values:Gt(r.values),__prismaRawParameters__:!0};else if(Array.isArray(r)){let[e,...t]=r;i=e,n={values:Gt(t||[]),__prismaRawParameters__:!0}}else switch(t){case"sqlite":case"mysql":i=r.sql,n={values:Gt(r.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":i=r.text,n={values:Gt(r.values),__prismaRawParameters__:!0};break;case"sqlserver":i=Dc(r),n={values:Gt(r.values),__prismaRawParameters__:!0};break;default:throw new Error(`The ${t} provider does not support ${e}`)}return Uc(n?.values?`prisma.${e}(${i}, ${n.values})`:`prisma.${e}(${i})`),{query:i,parameters:n}},Fc={requestArgsToMiddlewareArgs:e=>[e.strings,...e.values],middlewareArgsToRequestArgs(e){let[t,...r]=e;return new fe(t,r)}},$c={requestArgsToMiddlewareArgs:e=>[e],middlewareArgsToRequestArgs:e=>e[0]};function Lo(e){return function(t,r){let n,i=(r=e)=>{try{return void 0===r||"itx"===r?.kind?n??=Vc(t(r)):Vc(t(r))}catch(e){return Promise.reject(e)}};return{get spec(){return r},then:(e,t)=>i().then(e,t),catch:e=>i().catch(e),finally:e=>i().finally(e),requestTransaction(e){let t=i(e);return t.requestTransaction?t.requestTransaction(e):t},[Symbol.toStringTag]:"PrismaPromise"}}}function Vc(e){return"function"==typeof e.then?e:Promise.resolve(e)}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var vf=bi.split(".")[0],Af={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(e,t)=>t()},Uo=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(e){return this.getGlobalTracingHelper().getTraceParent(e)}dispatchEngineSpans(e){return this.getGlobalTracingHelper().dispatchEngineSpans(e)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(e,t){return this.getGlobalTracingHelper().runInChildSpan(e,t)}getGlobalTracingHelper(){let e=globalThis[`V${vf}_PRISMA_INSTRUMENTATION`],t=globalThis.PRISMA_INSTRUMENTATION;return e?.helper??t?.helper??Af}};function qc(){return new Uo}function Bc(e,t=()=>{}){let r,n=new Promise(e=>r=e);return{then:i=>(0===--e&&r(t()),i?.(n))}}function jc(e){return"string"==typeof e?e:e.reduce((e,t)=>{let r="string"==typeof t?t:t.level;return"query"===r?e:!e||"info"!==t&&"info"!==e?r:"info"},void 0)}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Hc=Ae(vi());function ii(e){return"number"==typeof e.batchRequestIdx}function Qc(e){if("findUnique"!==e.action&&"findUniqueOrThrow"!==e.action)return;let t=[];return e.modelName&&t.push(e.modelName),e.query.arguments&&t.push(Fo(e.query.arguments)),t.push(Fo(e.query.selection)),t.join("")}function Fo(e){return`(${Object.keys(e).sort().map(t=>{let r=e[t];return"object"==typeof r&&null!==r?`(${t} ${Fo(r)})`:t}).join(" ")})`}c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l(),c(),u(),p(),m(),d(),l();var Rf={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};function $o(e){return Rf[e]}c(),u(),p(),m(),d(),l();var oi=class{constructor(e){this.options=e,this.batches={}}batches;tickActive=!1;request(e){let t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,g.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(let e in this.batches){let t=this.batches[e];delete this.batches[e],1===t.length?this.options.singleLoader(t[0].request).then(e=>{e instanceof Error?t[0].reject(e):t[0].resolve(e)}).catch(e=>{t[0].reject(e)}):(t.sort((e,t)=>this.options.batchOrder(e.request,t.request)),this.options.batchLoader(t.map(e=>e.request)).then(e=>{if(e instanceof Error)for(let r=0;r<t.length;r++)t[r].reject(e);else for(let r=0;r<t.length;r++){let n=e[r];n instanceof Error?t[r].reject(n):t[r].resolve(n)}}).catch(e=>{for(let r=0;r<t.length;r++)t[r].reject(e)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function ut(e,t){if(null===t)return t;switch(e){case"bigint":return BigInt(t);case"bytes":{let{buffer:e,byteOffset:r,byteLength:n}=y.from(t,"base64");return new Uint8Array(e,r,n)}case"decimal":return new ae(t);case"datetime":case"date":return new Date(t);case"time":return new Date(`1970-01-01T${t}Z`);case"bigint-array":return t.map(e=>ut("bigint",e));case"bytes-array":return t.map(e=>ut("bytes",e));case"decimal-array":return t.map(e=>ut("decimal",e));case"datetime-array":return t.map(e=>ut("datetime",e));case"date-array":return t.map(e=>ut("date",e));case"time-array":return t.map(e=>ut("time",e));default:return t}}function si(e){let t=[],r=Cf(e);for(let n=0;n<e.rows.length;n++){let i=e.rows[n],a={...r};for(let t=0;t<i.length;t++)a[e.columns[t]]=ut(e.types[t],i[t]);t.push(a)}return t}function Cf(e){let t={};for(let r=0;r<e.columns.length;r++)t[e.columns[r]]=null;return t}c(),u(),p(),m(),d(),l(),l();var Sf=K("prisma:client:request_handler"),ai=class{client;dataloader;logEmitter;constructor(e,t){this.logEmitter=t,this.client=e,this.dataloader=new oi({batchLoader:Ua(async({requests:e,customDataProxyFetch:t})=>{let{transaction:r,otelParentCtx:n}=e[0],i=e.map(e=>e.protocolQuery),a=this.client._tracingHelper.getTraceParent(n),o=e.some(e=>$o(e.protocolQuery.action));return(await this.client._engine.requestBatch(i,{traceparent:a,transaction:If(r),containsWrite:o,customDataProxyFetch:t})).map((t,r)=>{if(t instanceof Error)return t;try{return this.mapQueryEngineResult(e[r],t)}catch(e){return e}})}),singleLoader:async e=>{let t="itx"===e.transaction?.kind?Gc(e.transaction):void 0,r=await this.client._engine.request(e.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:t,isWrite:$o(e.protocolQuery.action),customDataProxyFetch:e.customDataProxyFetch});return this.mapQueryEngineResult(e,r)},batchBy:e=>e.transaction?.id?`transaction-${e.transaction.id}`:Qc(e.protocolQuery),batchOrder:(e,t)=>"batch"===e.transaction?.kind&&"batch"===t.transaction?.kind?e.transaction.index-t.transaction.index:0})}async request(e){try{return await this.dataloader.request(e)}catch(t){let{clientMethod:r,callsite:n,transaction:i,args:a,modelName:o}=e;this.handleAndLogRequestError({error:t,clientMethod:r,callsite:n,transaction:i,args:a,modelName:o,globalOmit:e.globalOmit})}}mapQueryEngineResult({dataPath:e,unpacker:t},r){let n=r?.data,i=this.unpack(n,e,t);return g.env.PRISMA_CLIENT_GET_TIME?{data:i}:i}handleAndLogRequestError(e){try{this.handleRequestError(e)}catch(t){throw this.logEmitter&&this.logEmitter.emit("error",{message:t.message,target:e.clientMethod,timestamp:new Date}),t}}handleRequestError({error:e,clientMethod:t,callsite:r,transaction:n,args:i,modelName:a,globalOmit:o}){if(Sf(e),kf(e,n))throw e;e instanceof X&&Of(e)&&Tn({args:i,errors:[Jc(e.meta)],callsite:r,errorFormat:this.client._errorFormat,originalMethod:t,clientVersion:this.client._clientVersion,globalOmit:o});let s=e.message;if(r&&(s=dn({callsite:r,originalMethod:t,isPanic:e.isPanic,showColors:"pretty"===this.client._errorFormat,message:s})),s=this.sanitizeMessage(s),e.code){let t=a?{modelName:a,...e.meta}:e.meta;throw new X(s,{code:e.code,clientVersion:this.client._clientVersion,meta:t,batchRequestIdx:e.batchRequestIdx})}if(e.isPanic)throw new le(s,this.client._clientVersion);if(e instanceof ne)throw new ne(s,{clientVersion:this.client._clientVersion,batchRequestIdx:e.batchRequestIdx});if(e instanceof F)throw new F(s,this.client._clientVersion);if(e instanceof le)throw new le(s,this.client._clientVersion);throw e.clientVersion=this.client._clientVersion,e}sanitizeMessage(e){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?(0,Hc.default)(e):e}unpack(e,t,r){if(!e||(e.data&&(e=e.data),!e))return e;let n=Object.keys(e)[0],i=Object.values(e)[0],a=t.filter(e=>"select"!==e&&"include"!==e),o=Vi(i,a),s="queryRaw"===n?si(o):Qe(o);return r?r(s):s}get[Symbol.toStringTag](){return"RequestHandler"}};function If(e){if(e){if("batch"===e.kind)return{kind:"batch",options:{isolationLevel:e.isolationLevel}};if("itx"===e.kind)return{kind:"itx",options:Gc(e)};Ne(e,"Unknown transaction kind")}}function Gc(e){return{id:e.id,payload:e.payload}}function kf(e,t){return ii(e)&&"batch"===t?.kind&&e.batchRequestIdx!==t.index}function Of(e){return"P2009"===e.code||"P2012"===e.code}function Jc(e){if("Union"===e.kind)return{kind:"Union",errors:e.errors.map(Jc)};if(Array.isArray(e.selectionPath)){let[,...t]=e.selectionPath;return{...e,selectionPath:t}}return e}c(),u(),p(),m(),d(),l();var Wc=Yn;c(),u(),p(),m(),d(),l();var Xc=Ae(Si());c(),u(),p(),m(),d(),l();var V=class extends Error{constructor(e){super(e+"\nRead more at https://pris.ly/d/client-constructor"),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};D(V,"PrismaClientConstructorValidationError");var Kc=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],zc=["pretty","colorless","minimal"],Yc=["info","query","warn","error"],Df={datasources:(e,{datasourceNames:t})=>{if(e){if("object"!=typeof e||Array.isArray(e))throw new V(`Invalid value ${JSON.stringify(e)} for "datasources" provided to PrismaClient constructor`);for(let[r,n]of Object.entries(e)){if(!t.includes(r)){let e=Jt(r,t)||` Available datasources: ${t.join(", ")}`;throw new V(`Unknown datasource ${r} provided to PrismaClient constructor.${e}`)}if("object"!=typeof n||Array.isArray(n))throw new V(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.\nIt should have this form: { url: "CONNECTION_STRING" }`);if(n&&"object"==typeof n)for(let[t,i]of Object.entries(n)){if("url"!==t)throw new V(`Invalid value ${JSON.stringify(e)} for datasource "${r}" provided to PrismaClient constructor.\nIt should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof i)throw new V(`Invalid value ${JSON.stringify(i)} for datasource "${r}" provided to PrismaClient constructor.\nIt should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(e,t)=>{if(!e&&"client"===gt(t.generator))throw new V('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==e){if(void 0===e)throw new V('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(!ni(t).includes("driverAdapters"))throw new V('"adapter" property can only be provided to PrismaClient constructor when "driverAdapters" preview feature is enabled.');if("binary"===gt(t.generator))throw new V('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:e=>{if(typeof e<"u"&&"string"!=typeof e)throw new V(`Invalid value ${JSON.stringify(e)} for "datasourceUrl" provided to PrismaClient constructor.\nExpected string or undefined.`)},errorFormat:e=>{if(e){if("string"!=typeof e)throw new V(`Invalid value ${JSON.stringify(e)} for "errorFormat" provided to PrismaClient constructor.`);if(!zc.includes(e)){let t=Jt(e,zc);throw new V(`Invalid errorFormat ${e} provided to PrismaClient constructor.${t}`)}}},log:e=>{if(e){if(!Array.isArray(e))throw new V(`Invalid value ${JSON.stringify(e)} for "log" provided to PrismaClient constructor.`);for(let r of e){t(r);let e={level:t,emit:e=>{let t=["stdout","event"];if(!t.includes(e)){let r=Jt(e,t);throw new V(`Invalid value ${JSON.stringify(e)} for "emit" in logLevel provided to PrismaClient constructor.${r}`)}}};if(r&&"object"==typeof r)for(let[t,n]of Object.entries(r)){if(!e[t])throw new V(`Invalid property ${t} for "log" provided to PrismaClient constructor`);e[t](n)}}}function t(e){if("string"==typeof e&&!Yc.includes(e)){let t=Jt(e,Yc);throw new V(`Invalid log level "${e}" provided to PrismaClient constructor.${t}`)}}},transactionOptions:e=>{if(!e)return;let t=e.maxWait;if(null!=t&&t<=0)throw new V(`Invalid value ${t} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let r=e.timeout;if(null!=r&&r<=0)throw new V(`Invalid value ${r} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(e,t)=>{if("object"!=typeof e)throw new V('"omit" option is expected to be an object.');if(null===e)throw new V('"omit" option can not be `null`');let r=[];for(let[n,i]of Object.entries(e)){let e=Mf(n,t.runtimeDataModel);if(e)for(let[t,a]of Object.entries(i)){let i=e.fields.find(e=>e.name===t);i?i.relationName?r.push({kind:"RelationInOmit",modelKey:n,fieldName:t}):"boolean"!=typeof a&&r.push({kind:"InvalidFieldValue",modelKey:n,fieldName:t}):r.push({kind:"UnknownField",modelKey:n,fieldName:t})}else r.push({kind:"UnknownModel",modelKey:n})}if(r.length>0)throw new V(Nf(e,r))},__internal:e=>{if(!e)return;let t=["debug","engine","configOverride"];if("object"!=typeof e)throw new V(`Invalid value ${JSON.stringify(e)} for "__internal" to PrismaClient constructor`);for(let[r]of Object.entries(e))if(!t.includes(r)){let e=Jt(r,t);throw new V(`Invalid property ${JSON.stringify(r)} for "__internal" provided to PrismaClient constructor.${e}`)}}};function eu(e,t){for(let[r,n]of Object.entries(e)){if(!Kc.includes(r)){let e=Jt(r,Kc);throw new V(`Unknown property ${r} provided to PrismaClient constructor.${e}`)}Df[r](n,t)}if(e.datasourceUrl&&e.datasources)throw new V('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}function Jt(e,t){if(0===t.length||"string"!=typeof e)return"";let r=_f(e,t);return r?` Did you mean "${r}"?`:""}function _f(e,t){if(0===t.length)return null;let r=t.map(t=>({value:t,distance:(0,Xc.default)(e,t)}));r.sort((e,t)=>e.distance<t.distance?-1:1);let n=r[0];return n.distance<3?n.value:null}function Mf(e,t){return Zc(t.models,e)??Zc(t.types,e)}function Zc(e,t){let r=Object.keys(e).find(e=>qe(e)===t);if(r)return e[r]}function Nf(e,t){let r=At(e);for(let e of t)switch(e.kind){case"UnknownModel":r.arguments.getField(e.modelKey)?.markAsError(),r.addErrorMessage(()=>`Unknown model name: ${e.modelKey}.`);break;case"UnknownField":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>`Model "${e.modelKey}" does not have a field named "${e.fieldName}".`);break;case"RelationInOmit":r.arguments.getDeepField([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":r.arguments.getDeepFieldValue([e.modelKey,e.fieldName])?.markAsError(),r.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:n,args:i}=Pn(r,"colorless");return`Error validating "omit" option:\n\n${i}\n\n${n}`}function tu(e){return 0===e.length?Promise.resolve([]):new Promise((t,r)=>{let n=new Array(e.length),i=null,a=!1,o=0,s=()=>{a||(o++,o===e.length&&(a=!0,i?r(i):t(n)))},l=e=>{a||(a=!0,r(e))};for(let t=0;t<e.length;t++)e[t].then(e=>{n[t]=e,s()},e=>{ii(e)?e.batchRequestIdx===t?l(e):(i||(i=e),s()):l(e)})})}c(),u(),p(),m(),d(),l();var We=K("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var Lf={requestArgsToMiddlewareArgs:e=>e,middlewareArgsToRequestArgs:e=>e},Uf=Symbol.for("prisma.client.transaction.id"),Ff={id:0,nextId(){return++this.id}};function iu(e){class t{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=Lo();constructor(t){Ba(e=t?.__internal?.configOverride?.(e)??e),t&&eu(t,e);let r,n=(new kn).on("error",()=>{});if(this._extensions=Rt.empty(),this._previewFeatures=ni(e),this._clientVersion=e.clientVersion??Wc,this._activeProvider=e.activeProvider,this._globalOmit=t?.omit,this._tracingHelper=qc(),e.relativeEnvPaths&&(e.relativeEnvPaths.rootEnvPath&&rn.resolve(e.dirname,e.relativeEnvPaths.rootEnvPath),e.relativeEnvPaths.schemaEnvPath&&rn.resolve(e.dirname,e.relativeEnvPaths.schemaEnvPath)),t?.adapter){r=t.adapter;let n="postgresql"===e.activeProvider||"cockroachdb"===e.activeProvider?"postgres":e.activeProvider;if(r.provider!==n)throw new F(`The Driver Adapter \`${r.adapterName}\`, based on \`${r.provider}\`, is not compatible with the provider \`${n}\` specified in the Prisma schema.`,this._clientVersion);if(t.datasources||void 0!==t.datasourceUrl)throw new F("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let i=e.injectableEdgeEnv?.();try{let a=t??{},o=a.__internal??{},s=!0===o.debug;s&&K.enable("prisma:client");let l=rn.resolve(e.dirname,e.relativePath);fs.existsSync(l)||(l=e.dirname),We("dirname",e.dirname),We("relativePath",e.relativePath),We("cwd",l);let c=o.engine||{};if(a.errorFormat?this._errorFormat=a.errorFormat:"production"===g.env.NODE_ENV?this._errorFormat="minimal":(g.env.NO_COLOR,this._errorFormat="colorless"),this._runtimeDataModel=e.runtimeDataModel,this._engineConfig={cwd:l,dirname:e.dirname,enableDebugLogs:s,allowTriggerPanic:c.allowTriggerPanic,prismaPath:c.binaryPath??void 0,engineEndpoint:c.endpoint,generator:e.generator,showColors:"pretty"===this._errorFormat,logLevel:a.log&&jc(a.log),logQueries:a.log&&!!("string"==typeof a.log?"query"===a.log:a.log.find(e=>"string"==typeof e?"query"===e:"query"===e.level)),env:i?.parsed??{},flags:[],engineWasm:e.engineWasm,compilerWasm:e.compilerWasm,clientVersion:e.clientVersion,engineVersion:e.engineVersion,previewFeatures:this._previewFeatures,activeProvider:e.activeProvider,inlineSchema:e.inlineSchema,overrideDatasources:ja(a,e.datasourceNames),inlineDatasources:e.inlineDatasources,inlineSchemaHash:e.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:a.transactionOptions?.maxWait??2e3,timeout:a.transactionOptions?.timeout??5e3,isolationLevel:a.transactionOptions?.isolationLevel},logEmitter:n,isBundled:e.isBundled,adapter:r},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:Vt,getBatchRequestPayload:It,prismaGraphQLToJSError:_n,PrismaClientUnknownRequestError:ne,PrismaClientInitializationError:F,PrismaClientKnownRequestError:X,debug:K("prisma:client:accelerateEngine"),engineVersion:nu.version,clientVersion:e.clientVersion}},We("clientVersion",e.clientVersion),this._engine=kc(e,this._engineConfig),this._requestHandler=new ai(this,n),a.log)for(let e of a.log){let t="string"==typeof e?e:"stdout"===e.emit?e.level:null;t&&this.$on(t,e=>{er.log(`${er.tags[t]??""}`,e.message||e.query)})}}catch(e){throw e.clientVersion=this._clientVersion,e}return this._appliedParent=yr(this)}get[Symbol.toStringTag](){return"PrismaClient"}$on(e,t){return"beforeExit"===e?this._engine.onBeforeExit(t):e&&this._engineConfig.logEmitter.on(e,t),this}$connect(){try{return this._engine.start()}catch(e){throw e.clientVersion=this._clientVersion,e}}async $disconnect(){try{await this._engine.stop()}catch(e){throw e.clientVersion=this._clientVersion,e}finally{ds()}}$executeRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"executeRaw",args:r,transaction:e,clientMethod:t,argsMapper:No({clientMethod:t,activeProvider:i}),callsite:je(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$executeRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql){let[n,i]=ru(e,t);return Mo(this._activeProvider,n.text,n.values,Array.isArray(e)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(r,"$executeRaw",n,i)}throw new ie("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(e,...t){return this._createPrismaPromise(r=>(Mo(this._activeProvider,e,t,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(r,"$executeRawUnsafe",[e,...t])))}$runCommandRaw(t){if("mongodb"!==e.activeProvider)throw new ie(`The ${e.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(e=>this._request({args:t,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:Oc,callsite:je(this._errorFormat),transaction:e}))}async $queryRawInternal(e,t,r,n){let i=this._activeProvider;return this._request({action:"queryRaw",args:r,transaction:e,clientMethod:t,argsMapper:No({clientMethod:t,activeProvider:i}),callsite:je(this._errorFormat),dataPath:[],middlewareArgsMapper:n})}$queryRaw(e,...t){return this._createPrismaPromise(r=>{if(void 0!==e.raw||void 0!==e.sql)return this.$queryRawInternal(r,"$queryRaw",...ru(e,t));throw new ie("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(e){return this._createPrismaPromise(t=>{if(!this._hasPreviewFlag("typedSql"))throw new ie("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(t,"$queryRawTyped",e)})}$queryRawUnsafe(e,...t){return this._createPrismaPromise(r=>this.$queryRawInternal(r,"$queryRawUnsafe",[e,...t]))}_transactionWithArray({promises:e,options:t}){let r=Ff.nextId(),n=Bc(e.length);return tu(e.map((e,i)=>{if("PrismaPromise"!==e?.[Symbol.toStringTag])throw new Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let a=t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel,o={kind:"batch",id:r,index:i,isolationLevel:a,lock:n};return e.requestTransaction?.(o)??e}))}async _transactionWithCallback({callback:e,options:t}){let r,n={traceparent:this._tracingHelper.getTraceParent()},i={maxWait:t?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:t?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:t?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},a=await this._engine.transaction("start",n,i);try{let t={kind:"itx",...a};r=await e(this._createItxClient(t)),await this._engine.transaction("commit",n,a)}catch(e){throw await this._engine.transaction("rollback",n,a).catch(()=>{}),e}return r}_createItxClient(e){return Pe(yr(Pe(Ca(this),[ce("_appliedParent",()=>this._appliedParent._createItxClient(e)),ce("_createPrismaPromise",()=>Lo(e)),ce(Uf,()=>e.id)])),[St(Da)])}$transaction(e,t){let r;return r="function"==typeof e?"@prisma/adapter-d1"===this._engineConfig.adapter?.adapterName?()=>{throw new Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:e,options:t}):()=>this._transactionWithArray({promises:e,options:t}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},r)}_request(e){e.otelParentCtx=this._tracingHelper.getActiveContext();let t=e.middlewareArgsMapper??Lf,r={args:t.requestArgsToMiddlewareArgs(e.args),dataPath:e.dataPath,runInTransaction:!!e.transaction,action:e.action,model:e.model},n={operation:{name:"operation",attributes:{method:r.action,model:r.model,name:r.model?`${r.model}.${r.action}`:r.action}}},i=async r=>{let{runInTransaction:n,args:i,...a}=r,o={...e,...a};i&&(o.args=t.middlewareArgsToRequestArgs(i)),void 0!==e.transaction&&!1===n&&delete o.transaction;let s=await La(this,o);return o.model?Oa({result:s,modelName:o.model,args:o.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):s};return this._tracingHelper.runInChildSpan(n.operation,()=>i(r))}async _executeRequest({args:e,clientMethod:t,dataPath:r,callsite:n,action:i,model:a,argsMapper:o,transaction:s,unpacker:l,otelParentCtx:c,customDataProxyFetch:u}){try{e=o?o(e):e;let d={name:"serialize"},h=this._tracingHelper.runInChildSpan(d,()=>Cn({modelName:a,runtimeDataModel:this._runtimeDataModel,action:i,args:e,clientMethod:t,callsite:n,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return K.enabled("prisma:client")&&(We("Prisma Client call:"),We(`prisma.${t}(${ha(e)})`),We("Generated request:"),We(JSON.stringify(h,null,2)+"\n")),"batch"===s?.kind&&await s.lock,this._requestHandler.request({protocolQuery:h,modelName:a,action:i,clientMethod:t,dataPath:r,callsite:n,args:e,extensions:this._extensions,transaction:s,unpacker:l,otelParentCtx:c,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:u})}catch(e){throw e.clientVersion=this._clientVersion,e}}$metrics=new Ct(this);_hasPreviewFlag(e){return!!this._engineConfig.previewFeatures?.includes(e)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=Sa}return t}function ru(e,t){return $f(e)?[new fe(e,t),Fc]:[e,$c]}function $f(e){return Array.isArray(e)&&Array.isArray(e.raw)}c(),u(),p(),m(),d(),l();var Vf=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function ou(e){return new Proxy(e,{get(e,t){if(t in e)return e[t];if(!Vf.has(t))throw new TypeError(`Invalid enum value: ${String(t)}`)}})}c(),u(),p(),m(),d(),l(),l();